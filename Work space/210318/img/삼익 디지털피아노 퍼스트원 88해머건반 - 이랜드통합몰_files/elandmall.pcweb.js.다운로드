(function(b){elandmall.cart.doOrder=function(a,d){a=b.extend({cart_no_list:[],cart_divi_cd:""},a);if("array"!=b.type(a.cart_no_list)&&0==a.cart_no_list.length)return alert("주문상품 정보가 올바르지 않습니다[0]"),!1;if("10"!=a.cart_divi_cd&&"20"!=a.cart_divi_cd)return alert("주문상품 정보가 올바르지 않습니다[1]"),!1;"undefined"==typeof a.param_nomember&&(a.param_nomember=!0);elandmall.isLogin({nomember:a.param_nomember,nomember_proc:d,login:function(){"function"===typeof NetFunnel_Action?NetFunnel_Action({action_id:elandmall.global.netfunnel_order_key,
proto:elandmall.global.scheme,port:"https"==elandmall.global.scheme?"443":"80"},{success:function(b,e){elandmall.cart.doOrderCallback(a,d)},error:function(a,b){elandmall.outputSeverLog({msg:"ERROR [netfunnel] - doOrder || msg : "+b.data.msg});NetFunnel.Util.isRetryEnd()&&alert("죄송합니다.대기열 호출 중 오류가 발생했습니다.")}}):b.getScript(elandmall.global.js_path+"/pcweb/netfunnel/netfunnel.js",function(){NetFunnel_Action({action_id:elandmall.global.netfunnel_order_key,proto:elandmall.global.scheme,port:"https"==elandmall.global.scheme?
"443":"80"},{success:function(b,e){elandmall.cart.doOrderCallback(a,d)},error:function(a,b){elandmall.outputSeverLog({msg:"ERROR [netfunnel] - doOrder || msg : "+b.data.msg});NetFunnel.Util.isRetryEnd()&&alert("죄송합니다.대기열 호출 중 오류가 발생했습니다.")}})})}})};elandmall.cart.doOrderCallback=function(a,d){var c;0==b("#_ORDER_INIT_FORM_").length&&b("\x3cform id\x3d'_ORDER_INIT_FORM_'\x3e\x3c/form\x3e").attr({action:elandmall.util.https("/order/initOrder.action"),method:"get"}).appendTo("body");c=b("#_ORDER_INIT_FORM_").empty();
b.each(a.cart_no_list,function(){c.append(b("\x3cinput type\x3d'hidden' name\x3d'cart_no'\x3e\x3c/input\x3e").val(this))});c.append(b("\x3cinput type\x3d'hidden' name\x3d'cart_divi_cd'\x3e\x3c/input\x3e").val(a.cart_divi_cd));c.append(b("\x3cinput type\x3d'hidden' name\x3d'form_ga_category_nm'\x3e\x3c/input\x3e").val(b("#ga_category_nm").val()));b.ajax({url:"/order/orderItemCheckNew.action",data:c.serialize(),type:"POST",dataType:"json",success:function(e){"array"==b.type(a.ga_products)&&0<a.ga_products.length&&
dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:1},products:a.ga_products}}});elandmall.util.setCookie({name:"reloaded",value:"N",domain:elandmall.global.cookie_domain,path:"/order"});null!=e&&0<e.goods_list.length?elandmall.layer.createLayer({class_name:"layer_pop confirm d_layer_pop on",createContent:function(a){a.div_content.append('\x3cdiv class\x3d"alert_box03"\x3e\t\x3cdiv class\x3d"alert_txt"\x3e\t\t1개 상품을 주문하실 경우에만 더블쿠폰이 적용됩니다. 1개 상품으로 주문하시겠습니까?\t\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"set_btn"\x3e\t\x3cbutton type\x3d"button" class\x3d"btn02"     data-value\x3d"Y"\x3e\x3cspan\x3e1개 상품으로 주문하기 \x3c/span\x3e\x3c/button\x3e\t\x3cbutton type\x3d"button" class\x3d"btn02 c01" data-value\x3d"N"\x3e\x3cspan\x3e선택한 상품으로 주문하기 \x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
a.div_content.find("button").click(function(){a.close();var d=b(this).attr("data-value"),f=e.goods_list;if("Y"==d)for(var g=0;g<f.length;g++)c.append(b("\x3cinput type\x3d'hidden' name\x3d'limit_goods_list'\x3e\x3c/input\x3e").val(f[g]));c.append(b("\x3cinput type\x3d'hidden' name\x3d'double_coupon_type'\x3e\x3c/input\x3e").val(d));c.submit()});a.show()}}):c.submit()},error:function(a){a&&a.error_message?alert(a.error_message):alert("죄송합니다. 주문서를 생성할 수 없습니다.")}})};elandmall.layer={createLayer:function(a){a=
b.extend({layer_id:"_COMMON_LAYER_",tit_class_name:"lay_tit",class_name:"layer_pop d_layer_pop",cont_class_name:"",rtn_btn_id:"",dimm_use:!1},a||{});0<b("#"+a.layer_id).length&&b("#"+a.layer_id).remove();a.dimm_use&&0==b("#temp_dimm").length&&commonUI.view.dimmOn();"undefined"!=b.type(a.cls_othr_lyr_yn)&&"N"==a.cls_othr_lyr_yn||b.each(b(".layer_pop"),function(){b(this).hide();"_CART_RESULT_LAYER_"==b(this).attr("id")&&elandmall.cart.closeLayer()});var d=b("\x3cdiv\x3e\t\x3cdiv class\x3d'lay_wrap'\x3e\t\t\x3cdiv id\x3d'lay_tit'\x3e\x3cstrong\x3e"+
a.title+"\x3c/strong\x3e\x3c/div\x3e\t\t\x3cbutton type\x3d'button' class\x3d'btn_lay_close' \x3e\x3cimg src\x3d'"+elandmall.global.image_path+"/images/pcweb/common/btn_laypop_close.gif' alt\x3d'레이어 팝업 닫기' /\x3e\x3c/button\x3e\t\x3c/div\x3e\x3c/div\x3e").addClass(a.class_name).attr("id",a.layer_id),c;c="function"==b.type(a.close_call_back)?a.close_call_back:function(){d.hide();"string"==b.type(a.rtn_btn_id)&&""!=a.rtn_btn_id&&b(a.rtn_btn_id).focus();a.dimm_use&&0<b("#temp_dimm").length&&commonUI.view.dimmOff();
return!1};var e=b("\x3cdiv class\x3d'lay_cont'\x3e\x3c/div\x3e");e.addClass(a.cont_class_name);d.find("#lay_tit").addClass(a.tit_class_name).after(e);"undefined"==b.type(a.title)&&d.find("#lay_tit").remove();"undefined"!=b.type(a.no_close_btn)&&"Y"==a.no_close_btn&&d.find(".btn_lay_close").remove();a.createContent({div_content:e,close:c,show:function(){"_GOODSPREVIEW_LAYER_"==a.layer_id?d.appendTo("#wrapper"):d.appendTo("body")}});d.find("button.btn_lay_close").click(c);c=b(window);e=b("body");c=
c.scrollTop();var e=e.height(),f=d.height();c={top:e<=f?c:(e-f)/4+c};a.dimm_use&&(c=b.extend({"z-index":"6000"},c));d.css(c).attr("tabIndex","0").addClass("on").focus()}};wishlistComplete=function(a){var d="",c="";"10"==data.rel_divi_cd?(d="상품",p="{tab:'1'}"):"20"==data.rel_divi_cd?(d="브랜드",c="\x3cp\x3e브랜드가 정상적으로 저장되었습니다.\x3cbr\x3e마이페이지 \x3e 나의 찜목록 에서 확인하세요.\x3c/p\x3e",p="{tab:'2'}"):"30"==data.rel_divi_cd?(d="기획전",c="\x3cp\x3e기획전이 정상적으로 저장되었습니다.\x3cbr\x3e마이페이지 \x3e 나의 찜목록 에서 확인하세요.\x3c/p\x3e",p=
"{tab:'5'}"):"40"==data.rel_divi_cd?(d="카테고리",c="\x3cp\x3e카테고리가 정상적으로 저장되었습니다.\x3cbr\x3e마이페이지 \x3e 나의 찜목록 에서 확인하세요.\x3c/p\x3e",p="{tab:'3'}"):"50"==data.rel_divi_cd?(d="검색어",c="\x3cp\x3e검색어가 정상적으로 저장되었습니다.\x3cbr\x3e마이페이지 \x3e 나의 찜목록 에서 확인하세요.\x3c/p\x3e",p="{tab:'4'}"):"60"==data.rel_divi_cd&&(d="셀프스타일링",c="\x3cp\x3e셀프스타일링이 정상적으로 저장되었습니다.\x3cbr\x3e마이페이지 \x3e 나의 찜목록 에서 확인하세요.\x3c/p\x3e",p="{tab:'6'}");elandmall.layer.createLayer({layer_id:"wishalert",class_name:"layer_pop type03 on",title:d+" 찜하기",
createContent:function(a){a.show()}});var e="";"DUPL"==a?e="\x3cp\x3e찜 목록에 있는 "+d+"입니다.\x3cbr\x3e찜 목록으로 이동하시겠습니까?\x3c/p\x3e":"DISA"==a?e="\x3cp\x3e구매에 불편을 드려 죄송합니다.\x3cbr/\x3e본 상품은 브랜드와 협의 중인 상품으로,\x3cbr/\x3e기업회원 대상으로 서비스를 확대할 예정입니다.\x3c/p\x3e":"10"==data.rel_divi_cd?(e="\x3cp\x3e선택하신 상품을 찜 목록에 추가하였습니다.\x3cbr\x3e찜 목록으로 이동하시겠습니까?\x3c/p\x3e",d=b("#zim_cnt").text(),b("#zim_cnt").text(Number(d)+1)):e=c;b("#wishBtn").attr("aria-pressed",!0);e='\t\t\t\x3cdiv class\x3d"my_confirm"\x3e'+e+"\t\t\t\x3c/div\x3e";
"DISA"!=a&&(e=e+'\t\t\t\x3cdiv class\x3d"set_btn"\x3e'+('\t\t\t\t\x3cbutton type\x3d"button" class\x3d"btn03" onclick\x3d"elandmall.mypage.link.wishlist('+p+')"\x3e\x3cspan\x3e찜 목록으로 이동\x3c/span\x3e\x3c/button\x3e'),e+='\t\t\t\t\x3cbutton type\x3d"button" class\x3d"btn03 c01" onclick\x3d"$(\'#wishalert\').hide()"\x3e\x3cspan\x3e계속 쇼핑하기\x3c/span\x3e\x3c/button\x3e\t\t\t\x3c/div\x3e');b("#wishalert").find(".lay_cont").html(e)}})(jQuery);