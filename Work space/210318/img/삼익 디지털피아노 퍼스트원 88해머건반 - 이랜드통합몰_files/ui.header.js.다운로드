commonUI.header=commonUI.header||{};commonUI.header.mallToggleLyr=commonUI.header.mallToggleLyr||{};commonUI.header.catgToggleLyr=commonUI.header.catgToggleLyr||{};commonUI.header.gnbCate=commonUI.header.gnbCate||{};commonUI.header.brandMoreLayer=commonUI.header.brandMoreLayer||{};$(window).ready(function(){commonUI.header.mallToggleLyr();commonUI.header.catgToggleLyr();commonUI.header.schHeader();commonUI.header.hdBanner();commonUI.header.brandMoreLayer()});
commonUI.header.mallToggleLyr=function(){function a(){p=$(".header_top_banner").hasClass("on")?0:80;$("#today_deal_bn").hasClass("today_deal_bn")?(q=$(".ctg_tab").eq(0).offset().top-$("#content").offset().top,$(window).scrollTop()<h+q-p?c():b()):$(window).scrollTop()<h-p?c():b()}function c(){k&&m.stop().css({display:"none"});d.hasClass("header_fix")&&(d.removeClass("header_fix"),f.off("click"))}function b(){k&&m.stop().fadeIn(160);d.hasClass("header_fix")||(d.addClass("header_fix"),f.on("click",function(a){a.preventDefault();
g.toggleClass("on");commonUI.bodyClickOnFunc("d_mallToggleLyr")}))}var e=$("#header");if(!commonUI.isTarget(e)){var d=$("#wrapper"),f=$(".d_main_logo"),g=$(".mall_select"),k=!0,h,n;d.hasClass("main")&&(n=d.attr("class").substring(5));if($("div").hasClass("plan_makeup")){var l=$(".plan_makeup").height()+e.height();$(".wing_menu").css("top",l+34);h=l;$(window).scroll(function(){$(window).scrollTop()>h?$(".wing_menu").css("top","52px"):$(".wing_menu").css("top",l+"px")})}else 0<=$.inArray(n,"modern;modern xmas;kinder;folder;mixxo;ost;eblin;newbal;roem;lloyd;clue;spao;whoau;shoopen;bahus;nb_kids;kims;renewal".split(";"))?
(h=e.height()+$(".header_top_banner").height()+$(".d_promo_container").height(),k=!0):h=e.height()+$(".header_top_banner").height();if(k){var m=$(".d_btmbanner");parseInt(m.height());m.css({display:"none"})}$(window).on("scroll",function(d){d.preventDefault();a()});var p,q;commonUI.bodyClickFunc("d_mallToggleLyr",function(a){var d=$(".hd_mall");g.is(a.target)||f.is(a.target)||0!==d.has(a.target).length||(commonUI.bodyClickOffFunc("d_mallToggleLyr"),g.removeClass("on"),a.preventDefault())});a();$(".wing_menu").css("top",
q)}};
commonUI.header.catgToggleLyr=function(){function a(){d.removeClass("on");gnbMenu.initEvtL();c.hide()}var c=$(".catg_lyr"),b,e,d=$(".catg_bt"),f=$(".luxury .catg_bt, .luxury .brand_bt"),g=$(".catg_wrap, .brd_wrap"),k=$(".bt_close");commonUI.bodyClickFunc("d_catgToggleLyr",function(b){c.is(b.target)||d.is(b.target)||0!==c.has(b.target).length||(commonUI.bodyClickOffFunc("d_catgToggleLyr"),a())});d.not(f).on("click",function(a){d.toggleClass("on");d.hasClass("on")?(gnbMenu.offEvtL(),commonUI.bodyClickOnFunc("d_catgToggleLyr")):(gnbMenu.initEvtL(),
commonUI.bodyClickOffFunc("d_catgToggleLyr"));c.toggle();a.preventDefault()});f.on("mouseenter",function(a){e=$(this);b=$(this).find("+.catg_lyr");e.addClass("on");b.show()});g.on("mouseleave",function(){e.removeClass("on");b.hide()});k.on("click",function(b){d.focus();a()})};
commonUI.header.schHeader=function(){function a(){""!=e.val()?(d.show(),f.hide(),g.show()):(d.hide(),f.show(),g.hide());b.addClass("on")}function c(){commonUI.bodyClickOffFunc("d_schHeader");d.hide();f.hide();g.hide();b.removeClass("on")}var b=$(".hd_sch"),e=b.find(".d_searchTerm"),d=b.find(".sch_del"),f=b.find(".d_sch_keyword"),g=b.find(".d_sch_complete"),k=b.find(".sch_btn"),h=b.find(".f_keyword dt button"),n=b.find(".f_keyword dd"),l=b.find(".d_links");(function(){e.on("focus",function(d){commonUI.bodyClickOffFunc("d_schHeader");
commonUI.bodyClickOnFunc("d_schHeader");a()});e.on("keyup",function(d){a()});k.on("focus",function(){c()});h.on("click focus",function(){var a=$(this);h.removeClass("on");n.hide();a.addClass("on");a.parent().next().show()});d.on("click",function(){commonUI.bodyClickOffFunc("d_schHeader");setTimeout(function(){d.hide()},100);e.val("").focus();g.hide()});l.each(function(){var a=$(this).not(".noInput li a");a.focus(function(b){var c=a.find("span").text();e.val(c);d.show();b.preventDefault()}).click(function(a){commonUI.bodyClickOffFunc("d_schHeader");
k.focus();f.hide();g.hide();a.preventDefault()})});commonUI.bodyClickFunc("d_schHeader",function(a){b.is(a.target)||0!==b.has(a.target).length||c()})})()};
commonUI.header.hdBanner=function(){$("#wrapper").hasClass("modern")||commonUI.isTarget($("#hdBanner"))||$(window).ready(function(){var a={speed:300,autoplay:3E3,simulateTouch:!1,createPagination:!1,paginationClickable:!1,loop:!0};$("#wrapper").hasClass("ost")&&(a.mode="vertical");$("#wrapper").hasClass("renewal")&&(a.mode="horizontal");console.log(a.mode);console.log(a.mode);var c=new Swiper("#hdBanner",a),b=$(".hd_bn"),a=b.find(".d_hd_prev"),e=b.find(".d_hd_next");b.hover(function(a){c.stopAutoplay();
a.preventDefault()},function(a){c.startAutoplay();a.preventDefault()});a.on("click",function(a){c.swipePrev()});e.on("click",function(a){c.swipeNext()});b.on("keydown",".swiper-slide \x3e a",function(a){var b=Math.floor($(this).attr("data-index"));9==a.keyCode&&c.swipeTo(b,0,0)});b.on("focusin","a",function(a){c.stopAutoplay()});b.on("focus",".swiper-slide",function(){$(this).attr("data-index");c.stopAutoplay()});$(".swiper-slide-duplicate a").attr("tabindex","-1");setTimeout(function(){b.find(".swiper-slide:not(.swiper-slide-duplicate)").removeAttr("tabindex")},
1E3);(function(){var a=b.find(".swiper-slide:not(.swiper-slide-duplicate)").length;c.swipeTo(Math.floor(Math.random()*a),0,0)})()})};commonUI.header.gnbCate=function(a){this.init(a)};
commonUI.header.gnbCate.prototype={init:function(a){this.$gnbCateWrap=$(a).find("\x3e dl");commonUI.isTarget(this.$gnbCateWrap)||(this.$depth1=this.$gnbCateWrap.find("\x3e dd"),this.$depth1_link=this.$depth1.find("\x3e a"),this.$depthEnd=this.$gnbCateWrap.find("a").last(),this.currentIDX=null,this.initEvtL())},initEvtL:function(){var a=this;this.$depth1.on("mouseenter",function(){var c=a.$depth1.index($(this));null!=a.currentIDX&&a.depth1Off(a.currentIDX);a.depth1On(c)});this.$gnbCateWrap.on("mouseleave",
function(){a.depth1Off(a.currentIDX)});this.$depth1_link.on("focus",function(){a.$depth1.eq(a.currentIDX).hasClass("active")||commonUI.bodyClickOnFunc("d_hd_disp");var c=a.$depth1.index($(this).parent("dd"));null!=a.currentIDX&&a.depth1Off(a.currentIDX);a.depth1On(c)});commonUI.bodyClickFunc("d_hd_disp",function(c){a.$gnbCateWrap.is(c.target)||0!==a.$gnbCateWrap.has(c.target).length||(commonUI.bodyClickOffFunc("d_hd_disp"),a.depth1Off(a.currentIDX))})},offEvtL:function(){this.$depth1.off("mouseenter");
this.$gnbCateWrap.off("mouseleave");this.$depth1_link.off("focus")},depth1On:function(a){this.$depth1.eq(a).addClass("active");this.currentIDX=a},depth1Off:function(a){this.$depth1.eq(a).removeClass("active")}};
commonUI.header.brandMoreLayer=function(){function a(){d.show();e.addClass("hover")}function c(){d.hide();e.removeClass("hover")}function b(){var a=($(window).width()-1080)/2;1080<$(window).width()?(f.css({width:a,left:-a}),g.css({width:a,right:-a})):(f.css({width:0,left:0}),g.css({width:0,right:0}))}var e=$(".d_bs_sel"),d=e.find(".brand_select"),f=d.find(".ldeco"),g=d.find(".rdeco");e.find(".bs_sel_tit\x3ea").mouseover(a).focus(a);e.mouseleave(c);e.next().keyup(c);e.prev().keyup(c);b();$(window).resize(function(){b()})};
$(document).ready(function(){$("#wrapper").hasClass("folder")&&depth2_line_up();($("#wrapper").hasClass("spao")||$("#wrapper").hasClass("bahus")||$("#wrapper").hasClass("mixxo"))&&hd_disp_line_up()});function depth2_line_up(){$(".hd_disp").find("dd").each(function(){if($(this).find("div").hasClass("depth2")){$(this).addClass("in_dep");var a=$(".head").offset().left+1080,c=$(this).offset().left+740;a<c&&(a-=c,$(this).find(".depth2").css({left:+a+"px"}))}})}
function hd_disp_line_up(){var a=$(".hd_disp dl").find("dd"),c=a.length,b=1080-parseInt($(".hd_disp").css("margin-left"));a.css({width:+(b/c)+"px"})};