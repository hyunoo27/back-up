(function(b){"object"!=b.type(window.elandmall)&&(window.elandmall={});elandmall._login_close=function(e,d){b("#layer_pop").hide();d=b.extend({noMember:!1},d||{});d.noMember?"function"==b.type(e)&&e():elandmall.login_layer.fnCommLayer(e,d)};elandmall.login_layer={fnCommLayer:function(e,d){var a=d.membState,c=0;"60"==a?(c++,elandmall.login_layer.fnLongTimeWdInfo(e)):"70"==a&&(c++,elandmall.login_layer.fnTmpPassWdInfo(e));"staff"==d.is_staff&&(a=d.is_staff_alram,0!=c||"undefined"==b.type(a)||""!=a&&
"N"!=a||(c++,elandmall.login_layer.fnWflAlram(e),elandmall.util.setCookie({name:"is_staff_alram_del",value:"Y",age:3650,path:"/",domain:elandmall.global.cookie_domain})),a=d.is_staff_don_agree_alram,0==c&&"undefined"!=b.type(a)&&"N"==a&&(c++,elandmall.login_layer.fnDonAlram(e)),a=d.is_staff_gift_noti,0==c&&"undefined"!=b.type(a)&&"Y"!=a&&(c++,elandmall.login_layer.fnStaffGiftNoti(e)));if("undefined"!=b.type(d.coupon_param)&&""!=d.coupon_param){d=d.coupon_param.split(",");var f=!1,h=!1,g="";b.each(d,
function(c,a){c="";var b=a.split("^");"10"==b[0]&&"N"==b[1]&&(c="10^Y",f=!0);"20"==b[0]&&"N"==b[1]&&(c="20^Y",h=!0);g=""!=c?""!=g?g+(","+c):g+c:""!=g?g+(","+a):g+a});f&&(c++,elandmall.login_layer.fnBirthDay(e,{coupon_param:g}));h&&(c++,elandmall.login_layer.fnMarryDay(e,{coupon_param:g}))}0==c&&"function"==b.type(e)&&e()},fnSiteAdd:function(b,d,a){elandmall.layer.createLayer({layer_id:"SITEADD_LAYER",class_name:"layer_pop lay_temp02 on",createContent:function(c){var f=c.div_content;f.load("/login/initLoginPopLayer.action",
{layer_gubun:"SITEADD"},function(){f.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e취소\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e확인\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');var e=f.parent();e.find("#after_close").click(function(){c.close()});e.find("#confirm").click(function(){d.accessToken=a.accessToken;d.membState=a.membState;d.emailYn=f.find("#emailYn:checked")&&
"Y"==f.find("#emailYn:checked").val()?"Y":"N";d.smsYn=f.find("#smsYn:checked")&&"Y"==f.find("#smsYn:checked").val()?"Y":"N";elandmall.loginProc.fnOneClickLogin(b,d)});c.show();lockLoginPop=!1})}})},fnNoneResult:function(e,d,a){elandmall.layer.createLayer({layer_id:"NONERESULT_LAYER",class_name:"layer_pop lay_temp02 on",close_call_back:function(){b("#NONERESULT_LAYER").hide()},createContent:function(c){var a=c.div_content;a.load("/login/initLoginPopLayer.action",{layer_gubun:"NONERESULT"},function(){a.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn04"\x3e\x3cspan\x3e확인\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn04 c01"\x3e\x3cspan\x3e취소\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
var b=a.parent();b.find("#after_close").click(function(){c.close()});b.find("#confirm").click(function(){elandmall.mypage.link.cancelNoPurchase(elandmall.oneclick.getLoginId(),"90")});c.show();lockLoginPop=!1})}})},fnMemLock:function(b,d,a){elandmall.layer.createLayer({layer_id:"MEMLOCK_LAYER",class_name:"layer_pop lay_temp02 on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"LOCK"},function(){c.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e닫기\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
c.parent().find("#after_close").click(function(){a.close()});a.show();lockLoginPop=!1})}})},fnMemLock:function(b,d,a){elandmall.layer.createLayer({layer_id:"MEMLOCK_LAYER",class_name:"layer_pop lay_temp02 on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"MEMOUTSEC"},function(){c.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e닫기\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
c.parent().find("#after_close").click(function(){a.close()});a.show();lockLoginPop=!1})}})},fnQuiescence:function(b,d,a){elandmall.layer.createLayer({layer_id:"QUIESCENCE_LAYER",class_name:"layer_pop lay_temp02 on",createContent:function(c){var e=c.div_content;e.load("/login/initLoginPopLayer.action",{layer_gubun:"QUIESCENCE"},function(){e.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e취소\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e확인\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
var f=e.parent();f.find("#after_close").click(function(){c.close()});f.find("#confirm").click(function(){d.accessToken=a.accessToken;d.membState=a.membState;elandmall.loginProc.fnOneClickLogin(b,d)});c.show();lockLoginPop=!1})}})},fnLongTimeWdInfo:function(e){b.browser.msie&&9>=b.browser.version&&b.getScript(elandmall.global.js_path+"/common/js/jquery.xdomainrequest.js");elandmall.layer.createLayer({layer_id:"LONGTIMEWDINFO_LAYER",class_name:"layer_pop lay_temp02 on",close_call_back:function(){"function"==
b.type(e)&&e();b("#LONGTIMEWDINFO_LAYER").hide()},createContent:function(b){var a=b.div_content;a.load("/login/initLoginPopLayer.action",{layer_gubun:"LONGTIMEPW"},function(){a.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e90일이후에변경\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e지금변경\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');var c=a.parent();c.find("#after_close").click(function(){elandmall.oneclick.fnExtendPwdChange(b.close())});
c.find("#confirm").click(function(){elandmall.mypage.link.modifyMemberInfo(elandmall.oneclick.getLoginId(),"60")});elandmall.util.setCookie({name:"membState",domain:elandmall.global.cookie_domain,value:"",path:"/"});b.show()})}})},fnTmpPassWdInfo:function(e){b.browser.msie&&9>=b.browser.version&&b.getScript(elandmall.global.js_path+"/common/js/jquery.xdomainrequest.js");elandmall.layer.createLayer({layer_id:"TMPPASSWDINFO_LAYER",class_name:"layer_pop lay_temp02 on",close_call_back:function(){"function"==
b.type(e)&&e();b("#TMPPASSWDINFO_LAYER").hide()},createContent:function(b){var a=b.div_content;a.load("/login/initLoginPopLayer.action",{layer_gubun:"TEMPPW"},function(){a.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"after_close" class\x3d"btn02 c01"\x3e\x3cspan\x3e다음에변경\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e지금변경\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');var c=a.parent();c.find("#after_close").click(function(){elandmall.oneclick.fnHoldTempPassword(b.close())});
c.find("#confirm").click(function(){elandmall.mypage.link.modifyMemberInfo(elandmall.oneclick.getLoginId(),"70")});elandmall.util.setCookie({name:"membState",domain:elandmall.global.cookie_domain,value:"",path:"/"});b.show()})}})},fnBirthDay:function(e,d){elandmall.layer.createLayer({layer_id:"BIRTHDAY_LAYER",close_call_back:function(){"function"==b.type(e)&&e();b("#BIRTHDAY_LAYER").hide()},class_name:"layer_pop lay_temp01 on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",
{layer_gubun:"BIRTH"},function(){c.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"cancel" class\x3d"btn02 c01"\x3e\x3cspan\x3e나중에하기\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e마이페이지\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');var e=c.parent();e.find("#cancel").click(function(){a.close()});e.find("#confirm").click(function(){elandmall.mypage.link.coupon()});a.show();b("#BIRTHDAY_LAYER").find(".btn_close \x3e span").attr("class",
"");"undefined"!=b.type(d.coupon_param)&&elandmall.util.setCookie({name:"coupon_param",domain:elandmall.global.cookie_domain,value:d.coupon_param,path:"/"})})}})},fnMarryDay:function(e,d){elandmall.layer.createLayer({layer_id:"MARRYDAY_LAYER",close_call_back:function(){"function"==b.type(e)&&e();b("#MARRYDAY_LAYER").hide()},class_name:"layer_pop lay_temp01 on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"MARRY"},function(){c.after('\x3cdiv class\x3d"set_btn"\x3e\x3cbutton type\x3d"button" id\x3d"cancel" class\x3d"btn02 c01"\x3e\x3cspan\x3e나중에하기\x3c/span\x3e\x3c/button\x3e\x3cbutton type\x3d"button" id\x3d"confirm" class\x3d"btn02"\x3e\x3cspan\x3e마이페이지\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e');
var e=c.parent();e.find("#cancel").click(function(){a.close()});e.find("#confirm").click(function(){elandmall.mypage.link.coupon()});a.show();b("#MARRYDAY_LAYER").find(".btn_close \x3e span").attr("class","");"undefined"!=b.type(d.coupon_param)&&elandmall.util.setCookie({name:"coupon_param",domain:elandmall.global.cookie_domain,value:d.coupon_param,path:"/"})})}})},fnWflAlram:function(b,d){elandmall.layer.createLayer({layer_id:"WFL_LAYER",class_name:"layer_pop lay_temp02 wfp on",createContent:function(a){var c=
a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"WFL"},function(){var b=c.parent();b.find(".btn_lay_close").remove();b.find(".btn_close").click(function(){a.close()});a.show();lockLoginPop=!1})}})},fnDonAlram:function(e,d){elandmall.layer.createLayer({layer_id:"DON_LAYER",class_name:"layer_pop lay_temp02 wfp on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"DON"},function(){var d=c.parent();d.find(".btn_lay_close").remove();
d.find(".btn_close").click(function(){a.close()});d.find("#arg").click(function(){b("#receipt_area").show()});d.find("#disarg").click(function(){b("#receipt_area").hide()});d.find("#p_dis").click(function(){alert("미동의 시 기부금 영수증이 자동 발급 되지 않습니다.")});d.find("#confirm").click(function(){var c=b("input:radio[name\x3d'donation_yn']:checked").val(),d=b("input:radio[name\x3d'prv_yn']:checked").val();if(null==c||""==c)alert("동의/미동의를 선택해 주세요.");else{if("Y"==c){if(null==d||""==d){alert("개인정보 제3자 정보 제공 동의 여부를 선택 해 주세요.");
return}if("N"==d&&!confirm("개인정보 제3자 정보 제공 미동의 시\n기부금 영수증이 자동 발급 되지 않습니다.\n계속 진행 하시겠습니까?"))return}b.ajax({url:"/dispctg/updateEmpDonationAgree.action",type:"POST",data:{donation_agree_yn:c,prv_yn:d},dataType:"text",success:function(d){"S"==d?"Y"==c?alert("이랜드재단 기부에 동의해 주셨습니다."):alert("이랜드재단 기부에 미동의해 주셨습니다."):alert("이미 신청 하셨습니다.");elandmall.util.setCookie({name:"is_staff_don_agree_alram",value:"Y",age:3650,path:"/",domain:elandmall.global.cookie_domain});a.close();"function"==b.type(e)&&e()},error:function(c){alert("오류가 발생하였습니다.");
a.close();"function"==b.type(e)&&e()}})}});a.show();setEck();lockLoginPop=!1})}})},fnStaffGiftNoti:function(b,d){elandmall.layer.createLayer({layer_id:"GIFT_LAYER",class_name:"layer_pop lay_temp02 wfp on",createContent:function(a){var c=a.div_content;c.load("/login/initLoginPopLayer.action",{layer_gubun:"GIFT"},function(){var b=c.parent();b.find(".btn_lay_close").remove();b.find("#btn_today").click(function(){elandmall.util.setCookie({name:"is_staff_gift_noti",value:"Y",age:1,path:"/",domain:elandmall.global.cookie_domain});
a.close()});a.show();lockLoginPop=!1})}})}};elandmall.login=function(e){e=b.extend({popup:!0,nomember:!1,ordlogin:!1,rtn_btn_id:"",nomember_hide:!1},e||{});e.popup?lockLoginPop||(b.browser.msie&&9>=b.browser.version&&b.getScript(elandmall.global.js_path+"/common/js/jquery.xdomainrequest.js"),elandmall.layer.createLayer({layer_id:"layer_pop",rtn_btn_id:e.rtn_btn_id,class_name:"layer_pop login01 on",title:"로그인",createContent:function(d){var a=d.div_content;a.load("/login/initLoginLayer.action",e,function(){login_input_placeholder=
function(a){var c=b(a);c.on("keydown keyup blur",function(){0<c.val().length?c.removeClass("ph_bg_on"):c.addClass("ph_bg_on")})};a.parents("#layer_pop").find(".btn_lay_close").click(function(a){0<b("#detailPreview .event_goods_pop").length&&elandmall.goodDetailPreviewLayer.openEventLayer();lockLoginPop=!1;"function"==b.type(elandmall._login_close_callback)&&(a=elandmall._login_close_callback,elandmall._login_close_callback=null,a())});a.find("#login_id").keydown(function(a){13==a.keyCode&&fnLogin()});
a.find("#login_id").focus(function(c){a.find(".txt_alert_login").html("")});a.find("#pwd").keydown(function(a){13==a.keyCode&&fnLogin()});a.find("#pwd").focus(function(c){a.find(".txt_alert_login").html("")});a.find("#orderer_nm").keydown(function(a){13==a.keyCode&&fnOrdLogin()});a.find("#cell_no").keydown(function(a){13==a.keyCode&&fnOrdLogin()});a.find("#ord_no").keydown(function(a){13==a.keyCode&&fnOrdLogin()});a.find("#login_btn").click(function(){fnLogin()});fnLogin=function(){var c=a.find("#login_id").val().replace(/\s/gi,
"");a.find("#login_id").val(c);if(""==b.trim(a.find("#login_id").val()))return a.find(".txt_alert_login").html("아이디를 입력해 주세요."),!1;if(""==b.trim(a.find("#pwd").val()))return a.find(".txt_alert_login").html("비밀번호를 입력해 주세요."),!1;elandmall._login_msg=function(a){b("#layer_pop").find(".txt_alert_login").html(a)};c=b("#loginForm");c.find("#scheme").val(location.protocol);c.find("#ret_domain").val(location.host);c.find("#loginType").val("member");elandmall.loginProc.fnOneClickLogin(b("#loginForm"),e)};
a.find("#join_btn, #join_btn2").click(function(){elandmall.oneclick.fnMemJoin()});a.find("#find_id").click(function(){elandmall.oneclick.fnMemIDFind()});a.find("#find_passwd").click(function(){elandmall.oneclick.fnMemPassFind()});a.find("#nomember_btn").click(function(){elandmall.loginProc.fnNomemLogin()});a.find("#nomember_btn2").click(function(){elandmall.loginProc.fnNomemLogin()});a.find("#ord_btn").click(function(){fnOrdLogin()});fnOrdLogin=function(){if(""==b.trim(b("#orderer_nm").val()))return a.find(".txt_alert_order").html("구매자명을 입력해 주세요."),
!1;if(""==b.trim(b("#cell_no").val()))return a.find(".txt_alert_order").html("휴대폰 번호를 입력해 주세요."),!1;if(""==b.trim(b("#ord_no").val()))return a.find(".txt_alert_order").html("주문번호를 입력해 주세요."),!1;elandmall._login_msg=function(a){b("#layer_pop").find(".txt_alert_order").html(a)};var c=b("#loginForm");c.find("#scheme").val(location.protocol);c.find("#ret_domain").val(location.host);c.find("#loginType").val("ord");elandmall.loginProc.fnOrdLogin(b("#loginForm"),e)};d.show();login_input_placeholder(".d_input01");
login_input_placeholder(".d_input02");login_input_placeholder(".d_input03");login_input_placeholder(".d_input04");login_input_placeholder(".d_input05");b(window).scrollTop(0);a.find("#login_id").focus()})}}),lockLoginPop=!0):window.location.href=elandmall.util.https("/login/initLogin.action")}})(jQuery);