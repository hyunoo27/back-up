(function(a){"object"!=a.type(window.elandmall)&&(window.elandmall={});"object"!=a.type(window.elandmall.popup)&&(window.elandmall.popup={});elandmall.popup={postLayer:function(b){elandmall.layer.createLayer({class_name:"layer_pop d_layer_pop on",tit_class_name:"lay_tit02",title:"주소 찾기",dimm_use:!0,close_call_back:b.close_call_back,createContent:function(c){var d=c.div_content;d.load("/popup/initPostNoList.action",function(){c.show();d.on("keydown","[name\x3dsch_nm], #set_addr",function(b){13==window.event.keyCode&&
(b.preventDefault(),a(this).next("button").click())});d.on("click","[name\x3dselect_addr]",function(d){d.preventDefault();var f=a(this).parents("tr"),g=a(this).data("addr_gb");d=a("#post_no",f).val();var h=a("#addr_admin",f).val();"Y"==a("#regist_order_button").attr("today_receive")||"Y"==b.today_receive?a.ajax({url:"/order/checkTodayDeliAdd.action",dataType:"json",data:{post_no:d,recvr_base_addr:h},success:function(a){"0000"!=a.result?alert("오늘도착 상품은 서울만\n배송가능합니다\n배송지를 다시 확인해주세요."):(elandmall.postPopup.addUse(f,
g,b.callback),c.close())},error:function(a){null!=a.error_message&&""!=a.error_message?alert(a.error_message):alert("처리중 오류가 발생하였습니다.")}}):(elandmall.postPopup.addUse(f,g,b.callback),c.close())});d.on("click","[id\x3dpostNoSearch]",function(){var b=a(this).parents("div .lay_cont");f(b,!1)});d.on("click","[id\x3dpostNoMore]",function(){var b=a(this).closest(".lay_cont"),c=a("#page_idx",b).text(),d=a("#tot_page",b).text();if(Number(c)>=Number(d))return!1;f(b,!0)});var f=function(b,c){var d=elandmall.postPopup.addrSearch(b);
if(!d)return!1;c&&(d=a.extend({page:a("#page_idx",b).text()},d));a.ajax({url:"/popup/searchPostNoBodyListAjax.action",dataType:"json",data:d,success:function(g){a("div.txt_info",b).hide();a("div.txt_info2",b).hide();a(".addr_more",b).hide();var f=g.results;g=f.doc_count;var l=f.page_idx,h=Number(l)+1,f=f.doc_result;console.log("disp_pageIdx : "+h);var k=0;a("#result_body \x3e tr").each(function(){k+=a(this).outerHeight()});0==g?(a("div.txt_info2",b).show(),a(".txt_data_info",b).addClass("no_data").text("검색결과가 없습니다."),
a("#result_body").empty(),a(".adr_sreach_results",b).removeClass("on")):(200<=g?(a("div.txt_info2",b).show(),a(".txt_data_info",b).removeClass("no_data").html("\x3cem\x3e"+d.sch_nm+"\x3c/em\x3e에 대한 검색결과가 너무 많습니다."),a("#adr_search_results .board_scroll").css("height","400px")):a("#adr_search_results .board_scroll").css("height","535px"),50<g&&(a(".addr_more",b).show(),a("#ipt_page_idx",b).text(l),a("#ipt_tot_page",b).text(g/l),a("#ipt_doc_count",b).val(g),a("#page_idx",b).text(h),a("#tot_page",b).text(0==
Number(g)%50?parseInt(Number(g)/50):parseInt(Number(g)/50)+1),Number(h)==(0==Number(g)%50?parseInt(Number(g)/50):parseInt(Number(g)/50)+1)&&a(".addr_more",b).hide()),a(".adr_sreach_results",b).addClass("on"),a("#adr_result_count").text(g),c||a("#result_body").empty(),a.each(f,function(b,c){b=a("\x3ctr\x3e\x3c/tr\x3e");var d=a("\x3ctd\x3e\x3c/td\x3e"),g=a("\x3ctable\x3e\x3c/table\x3e").addClass("inner_active"),f=a("\x3ccolgroup\x3e\x3c/colgroup\x3e"),l=a("\x3ccol /\x3e").css("width","57px"),h=a("\x3ccol /\x3e").css("width",
"399px"),k=a("\x3ctbody\x3e\x3c/tbody\x3e"),p=a("\x3ctr\x3e\x3c/tr\x3e"),w=a("\x3ctd\x3e\x3c/td\x3e"),m=a("\x3cdiv\x3e\x3c/div\x3e").addClass("zipcode").text(c.post_no),q=a("\x3ctd\x3e\x3c/td\x3e");w.append(m);p.append(w).append(q);var w=a("\x3ctr\x3e\x3c/tr\x3e"),m=a("\x3ctd\x3e\x3c/td\x3e"),q=a("\x3cdiv\x3e\x3c/div\x3e").addClass("road"),t=a("\x3cspan\x3e\x3c/span\x3e").text("도로명"),u=a("\x3ctd\x3e\x3c/td\x3e"),y=a("\x3cdiv\x3e\x3c/div\x3e").addClass("addr_road"),z=a("\x3ca /\x3e").attr({name:"select_addr",
href:"javascript:;","data-addr_gb":"20"}).text(c.addr_road);q.append(t);m.append(q);y.append(z);u.append(y);w.append(m).append(u);var m=a("\x3ctr\x3e\x3c/tr\x3e"),q=a("\x3ctd\x3e\x3c/td\x3e"),t=a("\x3cdiv\x3e\x3c/div\x3e").addClass("num"),u=a("\x3cspan\x3e\x3c/span\x3e").text("지번"),y=a("\x3ctd\x3e\x3c/td\x3e"),z=a("\x3cdiv\x3e\x3c/div\x3e").addClass("addr_num"),B=a("\x3ca /\x3e").attr({name:"select_addr",href:"javascript:;","data-addr_gb":"10"}).text(c.addr_jibun);t.append(u);q.append(t);z.append(B);
y.append(z);m.append(q).append(y);q=a("\x3cinput type\x3d'hidden' id\x3d'post_no' /\x3e").val(c.post_no);t=a("\x3cinput type\x3d'hidden' id\x3d'addr_road' /\x3e").val(c.addr_road);u=a("\x3cinput type\x3d'hidden' id\x3d'addr_jibun' /\x3e").val(c.addr_jibun);y=a("\x3cinput type\x3d'hidden' id\x3d'area_divi_cd' /\x3e").val(c.area_divi_cd);z=a("\x3cinput type\x3d'hidden' id\x3d'city_exp_yn' /\x3e").val(c.city_exp_yn);B=a("\x3cinput type\x3d'hidden' id\x3d'admin_dong_nm' /\x3e").val(c.admin_dong_nm);c=
a("\x3cinput type\x3d'hidden' id\x3d'addr_admin' /\x3e").val(c.addr_admin);b.append(q).append(t).append(u).append(y).append(z).append(B).append(c);f.append(l).append(h);k.append(p).append(w).append(m);g.append(f).append(k);d.append(g);b.append(d);a("#result_body").append(b)}),a("#adr_search_results .board_scroll").scrollTop(c?k:0))},error:function(a){null!=a.error_message&&""!=a.error_message?alert(a.error_message):alert("처리중 오류가 발생하였습니다.")}})}})}})},myDlvpListLayer:function(b){var c=a.extend({},
b.param||{});elandmall.layer.createLayer({layer_id:"dlvp_layer",class_name:"layer_pop type02 d_layer_pop on",cont_class_name:"deli",dimm_use:!0,title:"배송지 목록",close_call_back:b.close_call_back,createContent:function(d){var f=d.div_content;f.load("/popup/searchMyDlvpListLayer.action",c,function(){f.on("click","[name\x3daddrSelect]",function(){var c=a(this).parents("tr"),f=c.find("[name\x3dtel_no]").val().split("-"),g=c.find("[name\x3dcell_no]").val().split("-"),l=c.find("[name\x3droad]").val().split("|||"),
p=c.find("[name\x3djibun]").val().split("|||"),q=c.find("[name\x3daddr_divi_cd]").val(),w=c.find("[name\x3dmbr_dlvp_seq]").val(),t=c.find("[name\x3ddlvp_nm]").val(),u=c.find("[name\x3demail]").val(),m=c.find("[name\x3dbase_yn]").val();"function"==a.type(b.callback)&&b.callback({mbr_dlvp_seq:w,dlvp_nm:t,base_yn:m,email:u,name:c.find("[name\x3drcv_name]").val(),addr_divi_cd:q,tel_no1:f[0],tel_no2:f[1],tel_no3:f[2],cel_no1:g[0],cel_no2:g[1],cel_no3:g[2],j_post_no:p[0],j_base_addr:p[1],j_dtl_addr:p[2],
r_post_no:l[0],r_base_addr:l[1],r_dtl_addr:l[2],deli_msg:a("[name\x3ddeli_msg]",c).val(),city_exp_yn:a("[name\x3dcity_exp_yn]",c).val()});d.close()});f.on("click","[name\x3ddlvpDel]",function(){if(!confirm("배송지를 삭제 하시겠습니까?"))return!1;var b=a(this).parents("tr").find("[name\x3dmbr_dlvp_seq]").val();a.ajax({url:"/popup/searchMyDlvpListLayer.action",data:{mbr_dlvp_seq:b},type:"POST",dataType:"text",success:function(a){null!=a&&""!=a&&(alert("배송지가 삭제 되었습니다."),f.html(a))},error:function(a){alert("삭제 중 오류가 발생하였습니다.")}})});
d.show()})}})},goodSizeInfoLayer:function(b){0<a("#sizeInfoLayer").length&&("undefined"==typeof b.remove_yn||"N"==b.remove_yn)?a("#sizeInfoLayer").show():("Y"==b.remove_yn&&a("#sizeInfoLayer").remove(),elandmall.layer.createLayer({layer_id:"sizeInfoLayer",class_name:"layer_pop type02 d_layer_pop on",title:"사이즈 정보",cls_othr_lyr_yn:"undefined"==typeof b.cls_othr_lyr_yn?"":b.cls_othr_lyr_yn,createContent:function(c){var d=c.div_content;d.load("/goods/searchGoodsSizeInfoLayer.action",b,function(){0<a("#sizeCnt",
d).val()&&(c.show(),a("#sizeInfoLayer").css("z-index","4005"))})}}))},cartResultLayer:function(){var b=elandmall.cart.layer_id;0<a("#"+b).length?a("#"+b).show():elandmall.layer.createLayer({layer_id:b,class_name:"layer_pop in_cart on",close_call_back:elandmall.cart.closeLayer,createContent:function(b){var c=b.div_content;c.load("/popup/initCartResultLayer.action",function(){b.show();a("#goCartBtn").click(function(){"0000053"==elandmall.global.disp_mall_no?elandmall.shoopen.goShoopenCart():elandmall.hdLink("CART")});
a("#result_close",c).on("click",function(){elandmall.cart.closeLayer()})})}})},storeReceiptLayer:function(b){var c=a.extend({},b||{}),d=0<a("#detailPreview").length?!0:!1;b.is_detailPreview=d;elandmall.layer.createLayer({layer_id:"storeReceipt",class_name:"layer_pop inquiry on",close_call_back:function(){elandmall.popup.storeReceiptLayer_close(b)},cls_othr_lyr_yn:"Y",createContent:function(f){var h=f.div_content;h.load("/popup/initStoreReceiptLayer.action",c,function(){d&&a("#gd_float_opt_fix").removeClass("groups");
f.show();a("#result_close",h).on("click",function(){if(-1<a('input[name\x3d"shop_sel"]').index(a('input[name\x3d"shop_sel"]:checked'))){var b=a('input[name\x3d"shop_sel"]:checked'),g=b.attr("data-shop_code"),f=b.attr("data-shop_name"),b=b.attr("data-sale_qty"),g=a.extend({shopCode:g,shopName:f,saleQty:b,classkey:c.classkey},c||{});"Y"==c.cust_prod_yn?elandmall.goodsDetail.fnCallbackResultStore(g):elandmall.goodsDetail.fnCallbackResultStoreNormal(g);a("#storeReceipt").remove();("Y"==c.quickview_yn||
d)&&elandmall.popup.fnLayerReturn()}else return alert("매장을 선택해 주세요."),!1})});h.on("click","#btn_lay_close",function(){elandmall.popup.storeReceiptLayer_close(b)});h.on("click","#storeSearch",function(){var b=a("#pickupShopResult"),c=h.find("#pickListForm").serialize();b.load("/popup/searchStoreReceiptLayer.action",c,function(){})});h.on("keydown","#shop_name",function(b){if(13==b.keyCode){b=a("#pickupShopResult");var c=h.find("#pickListForm").serialize();b.load("/popup/searchStoreReceiptLayer.action",
c,function(){})}})}})},storeReceiptLayer_close:function(b){var c=a.extend({},b||{});if("Y"==c.cust_prod_yn){a(".L"+c.classkey,".choiceGoods").remove();b=[];for(var d=0;d<c.data.length;d++){var f=!1,h=c.data[d];h.classkey==c.classkey&&(delete c.data[d],f=!0);f||b.push(h)}b=a.extend({result_data:b},c||{});elandmall.goodsDetail.fnCallbackCloseStore(b)}else a(".L"+c.classkey,".choiceGoods").remove(),b=a.extend(c||{}),elandmall.goodsDetail.fnCallbackCloseStoreNormal(b);a("#storeReceipt").remove();("Y"==
c.quickview_yn||c.is_detailPreview)&&elandmall.popup.fnLayerReturn()},callCartAddGoods:function(a){var b="undefiend"!=typeof a.isReservComingSoonYn?a.isReservComingSoonYn:"",d="undefiend"!=typeof a.reserve_start_dtime?a.reserve_start_dtime:"";if("Y"==("undefiend"!=typeof a.isComingSoonYn?a.isComingSoonYn:""))return alert(d.substr(0,4)+"년 "+d.substr(4,2)+"월 "+d.substr(6,2)+"일 "+d.substr(8,2)+"시 "+d.substr(10,2)+"분부터 구매 가능한 커밍순 상품입니다."),!1;if("Y"==b)return alert(d.substr(0,4)+"년 "+d.substr(4,2)+"월 "+
d.substr(6,2)+"일 "+d.substr(8,2)+"시 "+d.substr(10,2)+"분부터 구매 가능한 예약 상품입니다."),!1;var f={goods_no:a.goods_no,vir_vend_no:a.vir_vend_no,cart_divi_cd:a.cart_divi_cd,sale_shop_divi_cd:a.sale_shop_divi_cd,sale_shop_no:a.sale_shop_no,sale_area_no:a.sale_area_no,conts_dist_no:a.conts_dist_no,cart_grp_cd:a.p_cart_grp_cd},h=function(){elandmall.optLayerEvt.callCartCheck({param:f,callback:function(){elandmall.popup.itemLayer(f)}})};"70"==f.cart_grp_cd?elandmall.isLogin({login:function(){h()}}):h()},callGoDetail:function(a){confirm("상품상세 페이지에서\n옵션을 선택해주세요.")&&
elandmall.goods.goDetail({goods_no:a.goods_no,vir_vend_no:a.vir_vend_no})},optNameLayer:function(b){var c=b.obj;"0000053"==elandmall.global.disp_mall_no?0==a("dl.lyr",a(c).parent().parent().parent().parent()).length&&(b={goods_no:b.goods_no,vir_vend_no:b.vir_vend_no},a.ajax({url:"/popup/searchOptNameLayerList.action",data:b,type:"POST",dataType:"html",success:function(b){a(c).after(b);0<a("#content").find(".goods_list").length&&setGdLst(".goods_list")}})):0==a("div.lay_lp_opt",a(c).parent().parent()).length&&
(b={goods_no:b.goods_no,vir_vend_no:b.vir_vend_no},a.ajax({url:"/popup/searchOptNameLayerList.action",data:b,type:"POST",dataType:"html",success:function(b){a(c).parent().after(b);var d=a(c).parent().parent().find("div.lay_lp_opt");a(d).addClass("lay_lp_on");b=function(){a(d).addClass("lay_lp_on");a(d).find(".scroll").attr("tabindex","0")};a(c).mouseover(b).focus(b);a(c).parent().parent().mouseleave(function(){a(d).removeClass("lay_lp_on")})}}))},itemLayer:function(b){b=a.extend({goods_no:"",item_no:"",
vir_vend_no:"",dimmChk:!1},b||{});var c={goods_no:b.goods_no,item_no:b.item_no,vir_vend_no:b.vir_vend_no,cart_divi_cd:b.cart_divi_cd,cart_grp_cd:b.cart_grp_cd,set_cmps_item_nos:b.set_cmps_item_nos,gift_goods_info:b.gift_goods_info,gubun:b.gubun,dimmChk:b.dimmChk},d="undefined"!=typeof b.gubun?b.gubun:"LST";elandmall.layer.createLayer({title:"CART"==d?"상품 옵션 변경":"상품 옵션 선택",dimm_use:b.dimmChk,createContent:function(f){var h=f.div_content;h.load("/popup/searchItemLayer.action",c,function(){var c=h.find("#_optChoiceLayer").data("goods_info"),
g=h.find("#_optChoiceLayer").data("cart_divi_cd")+"";f.show();elandmall.optLayerEvt.changeBranch({goods_no:b.goods_no});if("Y"==c.multi_item_yn){var l={goods_no:b.goods_no,item_nm:b.item_no,low_vend_type_cd:c.low_vend_type_cd,vir_vend_no:b.vir_vend_no,set_goods_no:b.set_goods_no,cmps_grp_seq:b.cmps_grp_seq};1==+c.color_mapp_option&&(l.color_yn="Y");elandmall.optLayerEvt.ajaxItemList({param:l,success:function(g){function f(a){a.find(".sel_txt").attr("data-sel-msg")&&!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):
a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}var l=h.find("#options_nm1");a.each(g,function(){var d=this.ITEM_NO,g=this.OPT_VAL_NM1,f=this.SALE_POSS_QTY,h=this.CANCLE_POSS_YN,k=this.VIR_VEND_NO,v=this.ITEM_SALE_PRICE,p=this.GOODS_SALE_PRICE;-1<v&&"40"!=c.low_vend_type_cd?(0==v&&(v=elandmall.util.toCurrency(p)),elandmall.util.toCurrency(v)):elandmall.util.toCurrency(p);v="";d=0<f?a("\x3cli\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e"+g+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
v+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":d}):"10"==a("#reserv_limit_divi_cd").val()?a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+g+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+v+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"}):a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+g+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
v+"\x3c/em\x3e\x3c/span\x3e\x3ca class\x3d'opt_stock' onclick\x3d\"elandmall.stockNotiMbrLayer({goods_no:'"+b.goods_no+"',vir_vend_no:'"+b.vir_vend_no+"',item_no:'"+d+"',item_nm:'"+g+"' ,dimmChk:"+b.dimmChk+'});"\x3e입고알림신청\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e').attr({"data-value":"soldout"});"undefined"!=typeof h&&""!=h&&d.attr("data-cancle_poss_yn",h);d.attr("data-vir_vend_no",k);d.attr("data-item_show_nm",g);d.attr("data-sale_poss_qty",f);l.append(d)});h.find(".lyr_options .options li .ancor").click(function(){var g=
a(this);a(this).parents(".options").data("index");var l=a(this).parent(),k=a(this).parent().parent().parent().siblings(".sel_btn");l.hasClass("sld_out")||(k.find(".sel_txt").attr("data-sel-msg",a(this).find(".opt_name").text()),k.find(".sel_txt").data("sel-msg",a(this).find(".opt_name").text()),k.find(".sel_txt").attr("data-value",l.attr("data-value")),a(".lyr_select").removeClass("on"),l.addClass("selected").siblings("li").removeClass("selected"),f(k),elandmall.optLayerEvt.changeItem({param:{goods_no:b.goods_no,
item_no:b.item_no,low_vend_type_cd:c.low_vend_type_cd,vir_vend_no:b.vir_vend_no,set_goods_no:b.set_goods_no,cmps_grp_seq:b.cmps_grp_seq},div:h,chgObj:a(this),callback_ajax:function(b){var c=h.find("#item_opt_nm"+b.next_idx);if("Y"!=a("#opt_box").data("init_yn")){var d="";a.each(a(c).children(),function(c,g){a("#opt_box").data("opt_val_nm"+b.next_idx)==a(this).text()&&(d=a(this).val())});a(c).val(d);a(c).change();"Y"==a(c).data("last")&&a("#opt_box").data("init_yn","Y")}},callback:function(f){f=g.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-last");
var l=g.parent().attr("data-value"),h=g.children(".opt_name").text(),k=g.parent().attr("data-sale_poss_qty");if("Y"==f&&""!=l){a("#_optChoiceLayer").attr("data-item_no",l);a("#_optChoiceLayer").attr("data-item_nm",h);a("#_optChoiceLayer").attr("data-sale_poss_qty",k);if("40"==c.low_vend_type_cd||"50"==c.low_vend_type_cd)c.vir_vend_no=g.parent().attr("data-vir_vend_no");"LST"==d&&elandmall.optLayerEvt.getItemPrice({param:{goods_no:b.goods_no,vir_vend_no:c.vir_vend_no,item_no:l},success:function(a){c.ord_qty=
a[0].ORD_POSS_MIN_QTY}})}}}))});if("Y"!=a("#opt_box").data("init_yn")){var k="";a.each(a(l).children(),function(b,c){a("#opt_box").data("opt_val_nm1")==a(this).text()&&(k=a(this).val())});l.val(k);l.change()}}})}elandmall.optLayerEvt.initopt();if("undefined"!=typeof b.gift_goods_info){var l="",l=""+b.gift_goods_info,p=l.split(",");a("[id^\x3dgift_slt]","#opt_box").each(function(b,c){a(this).val(p[b])})}a("#item_layer_change_button").click(function(){if(elandmall.optLayerEvt.validcheck()){var c=a("#opt_box").data("max_opt_cnt");
h.find("#item_opt_nm"+c);"function"==a.type(b.callback)&&(c=elandmall.optLayerEvt.setCallbackParam(),b.callback(c));f.close()}});a("#item_layer_save_button").click(function(){if(elandmall.optLayerEvt.validcheck()){var b="";0<a("#giftInfo","#_optChoiceLayer").length&&("Y"==a("#giftInfo","#_optChoiceLayer").data("multi_yn")?b=a("#gift_slt").attr("data-value"):a("[name\x3dgift_dtl_no]","#_optChoiceLayer").each(function(){b=""==b?b+a(this).attr("data-value"):b+(","+a(this).attr("data-value"))}));c.gift_goods_info=
b;0<a("#recev_slt","#_optChoiceLayer").length&&(c.cart_grp_cd=a("#recev_slt","#_optChoiceLayer").attr("data-value"));var d=elandmall.optLayerEvt.setSaveParam({goods_info:c}),f=[];f.push(d);var l=[];a.each(f,function(){l.push(this)});console.dir(l);elandmall.cart.addCart({cart_divi_cd:g,items:l})}});a("#item_layer_cancel_button").click(function(){f.close()})})}})},goodsPreview:function(b){elandmall.layer.createLayer({layer_id:"_GOODSPREVIEW_LAYER_",class_name:"layer_pop lay_mini_detail",tit_class_name:"lay_tit ir",
close_call_back:function(){a("#_GOODSPREVIEW_LAYER_ .lyr_select .sel_btn").unbind("click");a("#_GOODSPREVIEW_LAYER_").remove()},createContent:function(c){var d=c.div_content,f=a.extend({quickview_yn:"Y",goods_no:"",vir_vend_no:""},b);d.load("/popup/initGoodsDetailPreview.action",f,function(b,d){"success"==d?(c.show(),function(b){function c(a){m.is(":animated")||m.css({left:a})}function d(){var a=Math.abs(parseInt(m.css("left")))/540;f(x.eq(0==a?0:5*a+1))}function g(){var a=m.find("li.on").index(),
b=Math.abs(parseInt(m.css("left")))/90,d=parseInt(a/6);c("-"+540*d+"px");6>r?(n.prev.removeClass("on"),n.next.removeClass("on")):0<b&&b<r-6?(n.next.addClass("on"),n.prev.addClass("on")):0>=b?(n.next.addClass("on"),n.prev.removeClass("on")):0<b&&b>=r-6&&(n.prev.addClass("on"),n.next.removeClass("on"));2>r?(n.widePrev.removeClass("on"),n.wideNext.removeClass("on")):0<a&&a<r-1?(n.widePrev.addClass("on"),n.wideNext.addClass("on")):0>=a?(n.widePrev.removeClass("on"),n.wideNext.addClass("on")):a>=r-1&&
(n.widePrev.addClass("on"),n.wideNext.removeClass("on"))}function f(a){A.parent().removeClass("on");a.parent().addClass("on");A=a;a={src:a.find("img").attr("src")};k.attr(a)}function h(){var a=m.find("li.on").index();parseInt(m.css("left"));a=parseInt(a/6);c("-"+540*a+"px")}b=a(b);if(!commonUI.isTarget(b)){var k,m,x,n,A,r;b=b.parents(".dt_ve_contents");k=b.find(".dt_ve_ct_img");m=b.find(".d_slide");x=m.find("a");r=parseInt(x.length);n={prev:b.find(".d_prev"),next:b.find(".d_next"),wideNext:b.find(".d_wide_next"),
widePrev:b.find(".d_wide_prev")};A=x.eq(0);(function(){x.on("mouseenter , focus",function(b){f(a(this));h();g()});n.prev.on("click",function(a){a.preventDefault();c("+\x3d540");d();g()});n.next.on("click",function(a){a.preventDefault();c("-\x3d540");d();g()});n.wideNext.on("click",function(a){a.preventDefault();a=m.find("li.on").index();a=a<r-1?a+1:0;a=x.eq(a);f(a);h();g()});n.widePrev.on("click",function(a){a.preventDefault();a=m.find("li.on").index();a=0<a?a-1:r-1;a=x.eq(a);f(a);h();g()});A.triggerHandler("mouseenter")})()}}("#description_"+
f.goods_no+"_1"),a(".lyr_options .options li .ancor").click(function(){var b=a(this).parent(),c=a(this).parent().parent().parent().siblings(".sel_btn");b.hasClass("sld_out")||(c.find(".sel_txt").attr("data-sel-msg",a(this).find(".opt_name").text()),a(".lyr_select").removeClass("on"),b.addClass("selected").siblings("li").removeClass("selected"),showText(c))}),commonUI.view.toolTip()):c.close()})}})},fnNotiPopList:function(b){ElandmallEventListener.fnAddOnloadListener(function(){var c="";a.ajax({url:"/popup/searchPopNotiList2.action",
type:"GET",data:{type:"p",disp_mall_no:b.disp_mall_no,noti_clss_cd:b.noti_clss_cd,rel_no:b.rel_no},dataType:"json",cache:!0,success:function(b){if(null!=b&&null!=b.notiList){var d=b.notiList[0].NOTI_NO;if("false"!=elandmall.util.getCookie("noti_"+b.notiList[0].NOTI_NO)){var h=b.notiList[0].COOKIE_DISP_DIVI_CD,k=b.notiList;c+="\x3cdiv class\x3d'lyr' style\x3d'opacity:0;filter:alpha(opacity\x3d0)'\x3e";c+="\x3ch3 class\x3d'ir'\x3e공지사항 레이어\x3c/h3\x3e";c+="\x3cdiv class\x3d'bx' id\x3d'noti_bn'\x3e";c+=
"\x3cdiv class\x3d'roll_wrap'\x3e";c+="\x3cdiv class\x3d'roll_indi'\x3e";for(var g=0;g<k.length;g++)c+="\x3ca href\x3d'#none' class\x3d'swiper-pagination-switch'\x3e공지사항 배너"+g+"번\x3c/a\x3e";c+="\x3c/div\x3e";c+="\x3c/div\x3e";c+="\x3cdiv class\x3d'swiper_container'\x3e";c+="\x3cul class\x3d'swiper-wrapper'\x3e";for(g=0;g<k.length;g++)c+="\x3cli class\x3d'swiper-slide'\x3e",c+=k[g].NOTI_CONT,c+="\x3c/li\x3e",console.log(g+"::NOTI_CONT\x3d"+k[g].NOTI_CONT);c+="\x3c/ul\x3e";c+="\x3c/div\x3e";c+="\x3cdiv class\x3d'bp_btns'\x3e";
c+="\x3ca href\x3d'#' class\x3d'bp_bt_prev d_prev'\x3e이전 공지 배너\x3c/a\x3e";c+="\x3ca href\x3d'#' class\x3d'bp_bt_next d_next'\x3e다음 공지 배너\x3c/a\x3e";c+="\x3c/div\x3e";c+="\x3c/div\x3e";c+="\x3cdiv class\x3d'btn'\x3e";c="20"==h?c+"\x3cbutton type\x3d'button' class\x3d'p_today'\x3e\x3cspan\x3e일주일간 보지 않기\x3c/span\x3e\x3c/button\x3e":"10"==h?c+"\x3cbutton type\x3d'button' class\x3d'p_today'\x3e\x3cspan\x3e다시 보지 않기\x3c/span\x3e\x3c/button\x3e":c+"\x3cbutton type\x3d'button' class\x3d'p_today'\x3e\x3cspan\x3e오늘 하루 보지 않기\x3c/span\x3e\x3c/button\x3e";
c+="\x3cbutton type\x3d'button' onclick\x3d'$(\".lyr_notice\").hide()'\x3e\x3cem class\x3d'ir'\x3e공지사항 레이어\x3c/em\x3e닫기\x3c/button\x3e";c+="\x3c/div\x3e";c+="\x3c/div\x3e";null!=d&&0<d.length&&(a(".lyr_notice").show(),a("#span_layer_pop").append(c),setTimeout(function(){var c=a("#noti_bn"),d=c.find(".bp_btns"),g=a("#noti_bn .swiper-slide").length,d={prev:d.find(".d_prev"),next:d.find(".d_next")},f=[],h=[];c.find(a(".swiper-slide img")).each(function(b){console.log(b+":::swiper-slide img\x3e\x3e\x3esrc\x3d"+
a(this).attr("src"));f[b]=a(this).outerWidth();h[b]=a(this).outerHeight();console.log(b+":::swiper-slide img\x3e\x3e\x3ewidth\x3d"+f[b]+", height\x3d"+h[b])});a(".lyr_notice .bx, .lyr_notice .bx .swiper-slide ").css({width:Math.max.apply(null,f),height:Math.max.apply(null,h)});if(1<g){var k=new Swiper("#noti_bn .swiper_container",{autoplay:3E3,autoplayDisableOnInteraction:!1,loop:!0,simulateTouch:!1,pagination:"#noti_bn .roll_indi",createPagination:!1,paginationElement:"a",paginationClickable:!0,
nextButton:".d_next",prevButton:".d_prev"});c.hover(function(){k.stopAutoplay()});c.mouseleave(function(){k.startAutoplay()});d.prev.on("click",function(a){a.preventDefault();k.swipePrev()});d.next.on("click",function(a){a.preventDefault();k.swipeNext()})}else d.next.hide(),d.prev.hide(),c.find(".roll_wrap").hide();a(".p_today").click(function(){a.ajax({url:"/popup/setCookie.action",type:"POST",dataType:"json",data:{type:b.notiList[0].COOKIE_DISP_DIVI_CD,noti_no:b.notiList[0].NOTI_NO,end_time:b.notiList[0].END_TIME},
complete:function(b){a(".lyr_notice").hide()},error:function(b){alert("팝업 설정중에 오류가 발생했습니다.");a(".lyr_notice").hide()}})});c.parent().css({opacity:100,filter:"alpha(opacity\x3d1)"})},2E3))}}else a(".lyr_notice").hide()}})})},fnPopChkAndPopup:function(b,c){var d="";if("false"==elandmall.util.getCookie(b.NOTI_NO))return c;var f=60+parseInt(b.HEIGHT);"Y"==b.POP_YN?(alert("getNotiContents-Popup"),window.open("/popup/initPopNoti.action?noti_no\x3d"+b.NOTI_NO,b.NOTI_NO,"width\x3d"+b.WIDTH+", height\x3d"+
f+", left\x3d"+c+" toolbar\x3dno, location\x3dno, fullscreen\x3dno, scrollbars\x3dyes, status\x3dno, directories\x3dno, resizable\x3dyes")):"L"==b.POP_YN&&(alert("getNotiContents-Layer"),d+="\x3cdiv class\x3d'lyr' id\x3d'lyr_notice_"+b.NOTI_NO+"' style\x3d'opacity:0;filter:alpha(opacity\x3d0)'\x3e",d=d+"\x3ch3 class\x3d'ir'\x3e공지사항 레이어\x3c/h3\x3e\x3cdiv class\x3d'bx'\x3e"+b.NOTI_CONT,d+="\x3c/div\x3e\x3cdiv class\x3d'btn'\x3e",d="10"==b.COOKIE_TYPE?d+("\x3cbutton type\x3d'button' class\x3d'btn_today' onclick\x3d'fnBtnCookie("+
b.COOKIE_TYPE+","+b.NOTI_NO+","+b.END_DTIME+");'\x3e\x3cspan\x3e다시 보지 않기\x3c/span\x3e\x3c/button\x3e"):"20"==b.COOKIE_TYPE?d+("\x3cbutton type\x3d'button' class\x3d'btn_today' onclick\x3d'fnBtnCookie("+b.COOKIE_TYPE+","+b.NOTI_NO+","+b.END_DTIME+");'\x3e\x3cspan\x3e일주일간 보지 않기\x3c/span\x3e\x3c/button\x3e"):d+("\x3cbutton type\x3d'button' class\x3d'btn_today' onclick\x3d'fnBtnCookie("+b.COOKIE_TYPE+","+b.NOTI_NO+","+b.END_DTIME+");'\x3e\x3cspan\x3e오늘 하루 보지 않기\x3c/span\x3e\x3c/button\x3e"),d+="\x3cbutton type\x3d'button' onclick\x3d'fnLayerClose("+
b.NOTI_NO+");'\x3e\x3cem class\x3d'ir'\x3e공지사항 레이어\x3c/em\x3e닫기\x3c/button\x3e",a("#layer_pop_main_"+b.NOTI_NO).html(d));"Y"==b.POP_YN&&(c=Number(c),c+=Number(b.WIDTH)+20);return c},myGradeLayer:function(a){elandmall.layer.createLayer({class_name:"layer_pop grade on",title:"등급산정 내역",createContent:function(b){b.div_content.load("/popup/initMyGradeLayer.action",a,function(){b.show()})}})},myOrdLayer:function(a){elandmall.layer.createLayer({class_name:"layer_pop grade on",title:"구매내역",createContent:function(b){b.div_content.load("/popup/initMyOrdLayer.action",
a,function(){b.show()})}})},fnGoodsTodayDeliLayer:function(b){var c=b.param,d=c.data.road_base_addr,f=c.data.base_addr,h=c.data.dtl_addr,k=c.deli_cart_grp_cd,g=0<a("#detailPreview").length?!0:!1,l={road_base_addr:""!=d?d+" "+h:f+" "+h,defualt_addr_yn:b.param.defualt_addr_yn,deli_cart_grp_cd:k};elandmall.layer.createLayer({layer_id:"dlvConfirm",class_name:"layer_pop type03 on",close_btn_txt:"닫기",title:"배송지 확인",close_call_back:function(){"function"==a.type(b.callback_close)&&b.callback_close();commonUI.dimRemove();
a("#dlvConfirm").remove();("Y"==c.quickview_yn||g)&&elandmall.popup.fnLayerReturn()},createContent:function(d){var f=d.div_content;f.load("/popup/initGoodsQuickDeliLayer.action",l,function(){g&&a("#gd_float_opt_fix").removeClass("groups");commonUI.dimCall();d.show();f.on("click","a.btn_close, #closeBtn",function(f){commonUI.dimRemove();d.close();("Y"==c.quickview_yn||g)&&elandmall.popup.fnLayerReturn();"function"==a.type(b.callback_close)&&b.callback_close()});f.on("click","#updateBtn",function(a){a=
window.location.href;-1==a.indexOf("/goods/initGoodsDetail")&&(a=elandmall.util.newHttps("/goods/initGoodsDetail.action?goods_no\x3d"+c.goods_no+"\x26vir_vend_no\x3d"+c.vir_vend_no));a=elandmall.util.https("/mypage/searchBanJJakDlvpListLayer.action?url\x3d"+encodeURIComponent(a));window.open(a,"오늘받송상품배송지목록","resizable\x3dno,scrollbars\x3dyes,width\x3d820px,height\x3d600px,left\x3d400px").focus();return!1});f.on("click","#saveBtn",function(d){commonUI.dimRemove();a("#dlvConfirm").remove();("Y"==c.quickview_yn||
g)&&elandmall.popup.fnLayerReturn();"function"==a.type(b.callback_ok)&&b.callback_ok(b)})})}})},fnLayerReturn:function(b){for(b=0;b<a(".layer_pop").length;b++)if("undefined"!=typeof a(".layer_pop").eq(b).find("#quick_view_layer").val()||"detailPreview"==a(".layer_pop").eq(b).attr("id"))a(".layer_pop").eq(b).show(),"undefined"!=typeof a(".layer_pop").eq(b).find("#quick_view_layer").val()&&a(".layer_pop").eq(b).focus(),"detailPreview"==a(".layer_pop").eq(b).attr("id")&&0<a("#gd_float_opt_fix").length&&
a("#gd_float_opt_fix").addClass("groups")}};elandmall.evalLayer={insEvalLayer:function(b){"function"==a.type(b.callback)&&(elandmall.evalLayer._callback=b.callback,delete b.callback);0<a("#goods_eval_ins_layer").length&&a("#goods_eval_ins_layer").remove();var c="상품평 작성";"0000053"==elandmall.global.disp_mall_no&&(c="리뷰 작성");b.gb="I";elandmall.layer.createLayer({class_name:"layer_pop type02 d_layer_pop on",title:c,id:"goods_eval_ins_layer",createContent:function(c){var d=c.div_content;d.load("/content/initGoodsEvalLayer.action",
b,function(b){0<a("#evalform",d).length&&0<a("[name\x3dgoods_no]",d).length?(elandmall.evalLayer.fnEvalInit(d,c),elandmall.evalLayer.fnEvalBaseSetScriptNew(d),a("a.on",d).find(".set_grade03").each(function(){a(this).click()}),a("[name\x3dselectScore] a.on",d).each(function(){a(this).click()})):0<b.indexOf("evalGoodsError")?location.reload():alert("구매하신 상품정보가 올바르지 않습니다.")})}})},editEvalLayer:function(b){"function"==a.type(b.callback)&&(elandmall.evalLayer._callback=b.callback,delete b.callback);var c=
"상품평 수정";"0000053"==elandmall.global.disp_mall_no&&(c="리뷰 수정");elandmall.layer.createLayer({class_name:"layer_pop type02 d_layer_pop on",title:c,createContent:function(c){var d=c.div_content;d.load("/content/initGoodsEvalEditLayer.action",b,function(b){0<a("#evalform",d).length&&0<a("[name\x3dgoods_no]",d).length?(elandmall.evalLayer.fnEvalInit(d,c),a(".eval_add_div",d).each(function(){var b=a(this).find("a");b.on("click",function(c){b.removeClass("on");a(this).addClass("on");c.preventDefault()})})):
alert("구매하신 상품정보가 올바르지 않습니다.")})}})},insOldEvalLayer:function(b){"function"==a.type(b.callback)&&(elandmall.evalLayer._callback=b.callback,delete b.callback);var c="상품평 작성";"0000053"==elandmall.global.disp_mall_no&&(c="리뷰 작성");elandmall.layer.createLayer({class_name:"layer_pop type02 d_layer_pop on",title:c,createContent:function(c){var d=c.div_content;d.load("/content/initOldGoodsEvalLayer.action",b,function(b){0<a("#evalform",d).length?(elandmall.evalLayer.fnEvalInit(d,c),elandmall.evalLayer.fnEvalBaseSetScript(d),
d.on("click","[name\x3dselectScore]",function(){a(this).parents("tr").find("[name\x3dold_score]").val(a(this).find("a").data("old_score"))}),a("a.on",d).find(".set_grade03").each(function(){a(this).click()}),a("[name\x3dselectScore] a.on",d).each(function(){a(this).click()})):alert("구매하신 상품정보가 올바르지 않습니다.")})}})},fnEvalBaseSetScript:function(b){a(".d_gradeSelect",b).each(function(){var b=a(this).find("a");b.on("click",function(c){b.removeClass("on");a(this).addClass("on");c.preventDefault()})});b.on("click",
"[name\x3dselectScore]",function(){var b=a(this).parents("tr");b.find("[name\x3dgoods_eval_item_score_gubun]").val(a(this).find("a").attr("value"));b.find("[name\x3dgoods_eval_item_score]").val(a(this).find("a").data("score"))});a("[name\x3drecomm_yn]").on("click",function(){var b=a(this).parents("td");a("#eval_recomm_yn",b).val(a(this).data("value"))})},fnEvalBaseSetScriptNew:function(b){a(".d_gradeSelect",b).each(function(){var b=a(this).find("a");b.on("click",function(c){b.removeClass("on");a(this).addClass("on");
c.preventDefault()})});b.find(".selectScore").each(function(){a(this).click(function(){var b=a(this).parents("td");a("input[name\x3d'goods_eval_item_score_gubun']",b).val(a(this).attr("data-score_gubun"));a("input[name\x3d'goods_eval_item_score']",b).val(a(this).attr("data-score"))})});b.find(".selectScore.on").each(function(){var b=a(this).parents("td");a("input[name\x3d'goods_eval_item_score_gubun']",b).val(a(this).attr("data-score_gubun"));a("input[name\x3d'goods_eval_item_score']",b).val(a(this).attr("data-score"))});
b.find(".recomm_yn").each(function(){a(this).click(function(){var b=a(this).parents("td");a("#eval_recomm_yn",b).val(a(this).attr("data-value"))})})},fnEvalInit:function(b,c){c.show();a("button",b).click(function(){a("#evalform",b).submit(function(a){a.preventDefault()})});b.on("click","#evalRegist_btn",function(){if(""==a("#goods_eval_cont").val()||10>a("#goods_eval_cont").val().length)return"0000053"==elandmall.global.disp_mall_no?alert("리뷰는 최소 10자 이상 입력해 주셔야 등록 가능 합니다. "):alert("상품평은 최소 10자 이상 입력해 주셔야 등록 가능 합니다. "),
!1;if(elandmall.checkBanWord(a("#goods_eval_cont").val()))return!1;var d=[],f=a(".eval_add_div").length;b.find(".eval_add_div a.on").each(function(){var b=a(this).attr("data-flt_no"),c=a(this).attr("data-flt_dtl_no");d.push({goods_eval_no:"",flt_no:b,flt_dtl_no:c})});if(0<f&&f!=d.length)return alert("입력되지 않은 항목이 있습니다.\n추가 정보를 입력 해 주세요. "),!1;0<f&&b.find("#eval_filter_array").val(JSON.stringify(d));f="상품평을 등록하시겠습니까? \n별점평가는 등록 이후에 수정되지 않습니다.";"0000053"==elandmall.global.disp_mall_no&&(f="리뷰를 등록하시겠습니까? \n별점평가는 등록 이후에 수정되지 않습니다.");
if("Y"==a(this).data("isNew")&&!confirm(f))return!1;var f=a("#evalform").createForm(),h="/content/registGoodsEval.action";"Y"==a(this).data("old_yn")&&(h="/content/registOldGoodsEval.action");f.submit({action:h,iframe:!0,success:function(a){c.close();elandmall.evalLayer._callback()},error:function(a){if(null!=a.ret_msg&&""!=a.ret_msg)alert(a.ret_msg);else return alert("오류가 발생했습니다."),!1}})});b.on("change","input[type\x3dfile]",function(){var c=a(this),f=c.val().split(".").pop().toLowerCase();a("#img_ul").data("clickimgidx");
var h="",k={file_name:a("input[type\x3dfile]").val(),upload_key:a("[name\x3dgoods_no]",b).val()};""==c.val()?a("#upload_form").clearForm():-1==a.inArray(f,["gif","png","jpg","jpeg"])?(h="이미지 파일이 아닙니다! (gif, png, jpg, jpeg 만 업로드 가능)",alert(h),elandmall.evalLayer.evalErrorLog(k,h),a("#upload_form").clearForm()):(c=c=a(this).val().split(/(\\|\/)/g).pop(),document.getElementById("upload_form"),a.ajax({url:"/content/getUploadAuthority.action",dataType:"json",data:{orgFileNm:c,upload_divi_cd:"20"},success:function(b){a("#key").val(b.key);
a("#acl").val(b.acl);a("#Content-Type").val(b.Content_Type);a("#x-amz-meta-uuid").val(b.x_amz_meta_uuid);a("#x-amz-server-side-encryption").val(b.x_amz_server_side_encryption);a("#X-Amz-Credential").val(b.x_amz_credential);a("#X-Amz-Algorithm").val(b.x_amz_algorithm);a("#X-Amz-Date").val(b.x_amz_date);a("#Policy").val(b.Policy);a("#X-Amz-Signature").val(b.x_amz_signature);void 0!=b.x_amz_meta_tag&&a("#x-amz-meta-tag").val(b.x_amz_meta_tag);if(void 0!=b.success_action_redirect){var c=document.createElement("input");
c.setAttribute("type","text");c.setAttribute("id","success_action_redirect");c.setAttribute("type","hidden");var d=document.getElementById("upload_form");d.appendChild(c);a("#success_action_redirect").val(b.success_action_redirect);a("#success_action_status").remove()}else c=document.createElement("input"),c.setAttribute("type","text"),c.setAttribute("id","success_action_status"),c.setAttribute("type","hidden"),d=document.getElementById("upload_form"),d.appendChild(c),a("#success_action_status").val(b.success_action_status),
a("#success_action_redirect").remove();a("#upload_form").ajaxForm({type:"POST",async:!1,cache:!1,dataType:"xml",enctype:"multipart/form-data",contentType:"multipart/form-data",mimeType:"multipart/form-data",processData:!1,crossDomain:!0,url:b.uploadUrl,headers:{"Access-Control-Allow-Origin":"*"},success:function(){elandmall.evalLayer.evalImgView(b.file_path,b.ori_file_nm,b.file_key);a.each(a("#upload_form").serializeArray(),function(b,c){"file"!=c.name&&"Y"==a(this).data("imgfield")&&a("#"+c.name,
upload_form).val("")});a("#upload_form").clearForm()},error:function(b){"EntityTooLarge"==b.error_message?(h="5MB 이하의 이미지만 등록 가능합니다.",alert(h)):(alert("파일 업로드 중 오류가 발생하였습니다."),h=b.error_message);elandmall.evalLayer.evalErrorLog(k,h);a.each(a("#upload_form").serializeArray(),function(b,c){"file"!=c.name&&"Y"==a(this).data("imgfield")&&a("#"+c.name,upload_form).val("")});a("#upload_form").clearForm()}}).submit()},error:function(b){""!=b.error_message?(window.alert(b.error_message),h=e.error_message):
alert("파일 업로드 중 오류가 발생하였습니다.");elandmall.evalLayer.evalErrorLog(k,h);a.each(a("#upload_form").serializeArray(),function(b,c){"file"!=c.name&&"Y"==a(this).data("imgfield")&&a("#"+c.name,upload_form).val("")});a("#upload_form").clearForm()}}))});b.on("click","[name\x3dfile_delete_btn]",function(){var b=a(this),c=b.parents("[id^\x3dli_edit_file_]");void 0!=b.data("fileSeq")?(b=b.parents("tr"),c.hide(),c.find("[name\x3duse_yn]").val("N"),0<b.find("li[id^\x3dli_file_]:hidden").length&&b.find("li[id^\x3dli_file]:hidden").eq(0).show()):
(c=b.parents("[id^\x3dli_file_]"),elandmall.evalLayer.fileReset(c.find("input[type\x3dfile]")))});b.on("click","#layer_close",function(){c.close()})},fileReset:function(b){var c=b.parents("[id^\x3dli_file_]");a.browser.msie?b.replaceWith(b.clone(!0)):b.val("");c.find("[name\x3dfile_type_cd]").val("");c.find("[name\x3dfile_delete_btn]").hide()},evalTextMaxLength:function(b){b=a(b);if(1E3<=b.val().length)return alert("최대 1000자까지 입력이 가능합니다."),b.val(b.val().substr(0,1E3)),!1},evalImgView:function(b,c,
d){b='\t\x3cdiv class\x3d"thumb"\x3e\t\t\x3cinput type\x3d"hidden" name\x3d"file_key" value\x3d"'+d+'"/\x3e\t\t\x3cinput type\x3d"hidden" name\x3d"file_path" value\x3d"'+b+'"/\x3e\t\t\x3cinput type\x3d"hidden" name\x3d"ori_file_nm" value\x3d"'+c+'"/\x3e\t\t\x3cimg src\x3d"'+b+'" alt\x3d"'+c+'"\x3e\t\t\x3cbutton class\x3d"del" onclick\x3d"elandmall.evalLayer.evalImgDel(this, {file_path:\''+b+'\'})"\x3e\x3cem class\x3d"ir"\x3e등록 이미지 삭제\x3c/em\x3e\x3c/button\x3e\t\x3c/div\x3e';c=a("#img_ul").data("clickimgidx");
a("#li_file_"+c).append(b).addClass("on");var f=a("#li_file_"+c+" .thumb").find("img");f.on("load",function(){var a=f.outerWidth(),b=f.outerHeight();a>b?elandmall.evalLayer.evalImgline(f,"H"):!1;a<b?elandmall.evalLayer.evalImgline(f,"V"):!1;a==b?f.addClass("squa"):!1})},evalImgline:function(a,c){"H"==c&&(a.addClass("hori"),a.css("margin-left",(68-a.outerWidth())/2));"V"==c&&(a.addClass("verti"),a.css("margin-top",(68-a.outerHeight())/2))},evalImgDel:function(b,c){if(!confirm("선택한 사진을 삭제하시겠습니까?"))return!1;
b=a(b).parents("li[name\x3dimg_li]");b.removeClass("on");b.find("div.thumb").remove();b.find("[name\x3duse_yn]").val("N")},evalImgUp:function(b,c){a(b).parents("ul").data("clickimgidx",c);a("#file").click()},evalErrorLog:function(b,c){a.ajax({url:"/content/evalErrorLogWrite.action",type:"POST",dataType:"text",async:!1,data:{err:c,upload_key:b.upload_key,file_name:b.file_name},success:function(a){},error:function(a){}})},_callback:function(){}};elandmall.ordDlvpLayer={editOrdDlvpLayer:function(b){_preventDefault();
elandmall.layer.createLayer({layer_id:"myOrdDlvpLayer",class_name:"layer_pop d_layer_pop on",tit_class_name:"lay_tit02",cont_class_name:"deli",dimm_use:!0,title:"배송지 변경",createContent:function(c){var d=c.div_content;d.load("/mypage/initMyOrderDlvpModifyLayer.action",b,function(){var f=a(this),h=a(d).clone(),k=!1;elandmall.ordDlvpLayer.fnInit(f);c.show();a("[name\x3ddlvp_nm]").attr("disabled",!0);d.on("change","#chk_basic_ship",function(){a("#chk_basic_ship").is(":checked")?(a("[name\x3ddlvp_nm]").attr("disabled",
!1),a(this).val("Y")):(a("[name\x3ddlvp_nm]").attr("disabled",!0),a(this).val("N"))});d.on("click","#cancelBtn",function(){c.close()});d.on("click","#initBtn",function(){a(d).html(h.html());a("input[name!\x3d'ord_no'][name!\x3d'orderer_nm'][name!\x3d'ord_memo_seq'][name!\x3d'ord_dtl_no'][name!\x3d'ord_dlvp_seq'][name!\x3d'mbr_dlvp_seq'], select",f).val("")});d.on("click","#postLayer",function(){elandmall.popup.postLayer({today_receive:b.today_receive,callback:function(a){elandmall.ordDlvpLayer.fnPostCallBack(f,
a)},close_call_back:function(){a("#_COMMON_LAYER_").hide();a("#myOrdDlvpLayer").show()}});_preventDefault()});d.on("click","#modifyBtn",function(){if(!k&&!elandmall.ordDlvpLayer.fnCheckFormSet(f)){k=!0;var b=!1;d.find("[name\x3dbase_yn]").attr("disabled")&&(b=!0,d.find("[name\x3dbase_yn]").attr("disabled",!1));a.ajax({url:"/mypage/updateMyOrdDlvpInfo.action",type:"POST",dataType:"json",async:!1,data:a("#dlvpLayerformObj").serialize(),success:function(a){"S"==a.code?location.reload():(k=!1,alert(a.msg),
b=!1)},error:function(a){b=k=!1;null!=a.error_message&&""!=a.error_message?alert(a.error_message):alert("오류가 발생하였습니다.")}});b&&d.find("[name\x3dbase_yn]").attr("disabled",!0)}});d.on("click","#dlvpListBtn",function(){elandmall.popup.myDlvpListLayer({callback:function(a){d.find("[name\x3ddlvp_nm]").val(a.dlvp_nm);isChecked="Y"==a.base_yn?!0:!1;d.find("[name\x3dbase_yn]").prop("checked",isChecked);d.find("[name\x3dbase_yn]").attr("disabled",isChecked);d.find("[name\x3drecvr_nm]").val(a.name);d.find("[name\x3drecvr_cell_no1]").val(a.cel_no1);
d.find("[name\x3drecvr_cell_no2]").val(a.cel_no2);d.find("[name\x3drecvr_cell_no3]").val(a.cel_no3);d.find("[name\x3drecvr_tel1]").val(a.tel_no1);d.find("[name\x3drecvr_tel2]").val(a.tel_no2);d.find("[name\x3drecvr_tel3]").val(a.tel_no3);d.find("[name\x3drecvr_road_post_no]").val(a.r_post_no);d.find("[name\x3drecvr_road_base_addr]").val(a.r_base_addr);d.find("[name\x3drecvr_road_dtl_addr]").val(a.r_dtl_addr);d.find("[name\x3drecvr_post_no]").val(a.j_post_no);d.find("[name\x3drecvr_base_addr]").val(a.j_base_addr);
d.find("[name\x3drecvr_dtl_addr]").val(a.j_dtl_addr);var b,c,f,g="10";""!=a.r_post_no?(g="20",b=a.r_post_no,c=a.r_base_addr,f=a.r_dtl_addr):(b=a.j_post_no,c=a.j_base_addr,f=a.j_dtl_addr);d.find("[name\x3daddr_divi_cd]").val(g);d.find("#view_post_no").val(b);d.find("#view_base_addr").val(c);d.find("#view_dtl_addr").val(f);d.find("[name\x3dord_memo_cont]").val(a.deli_msg).blur()},close_call_back:function(){a("#dlvp_layer").remove();a("#myOrdDlvpLayer").show()}})})})}})},setReturnDlvpLayer:function(b){var c=
"회수지 변경";0==b.dlvp_id.indexOf("ship")&&(c="배송지 변경");_preventDefault();elandmall.layer.createLayer({layer_id:"myReturnDlvpLayer",class_name:"layer_pop d_layer_pop on",tit_class_name:"lay_tit02",cont_class_name:"deli",dimm_use:!0,title:c,createContent:function(c){var d=c.div_content;d.load("/mypage/initMyReturnDlvpSetLayer.action",b,function(){var f=a(d).clone(),k=a(this);elandmall.ordDlvpLayer.fnInit(k);c.show();d.on("click","#cancelBtn",function(){c.close()});d.on("click","#initBtn",function(){a(d).html(f.html());
a("#formObjRetLayer input, select").not("#order_nm").val("")});d.on("click","#postLayer",function(){elandmall.popup.postLayer({callback:function(a){elandmall.ordDlvpLayer.fnPostCallBack(k,a)},close_call_back:function(){a("#_COMMON_LAYER_").hide();a("#myReturnDlvpLayer").show()}});_preventDefault()});d.on("click","#modifyBtn",function(){if(!elandmall.ordDlvpLayer.fnCheckFormSet(k)){var d=a("#"+b.dlvp_id);d.find("[name\x3drecvr_nm]").text(a("#formObjRetLayer [name\x3drecvr_nm]").val());d.find("[name\x3drecvr_tel1]").text(a("#formObjRetLayer [name\x3drecvr_tel1]").val());
d.find("[name\x3drecvr_tel2]").text(a("#formObjRetLayer [name\x3drecvr_tel2]").val());d.find("[name\x3drecvr_tel3]").text(a("#formObjRetLayer [name\x3drecvr_tel3]").val());d.find("[name\x3drecvr_cell_no1]").text(a("#formObjRetLayer [name\x3drecvr_cell_no1]").val());d.find("[name\x3drecvr_cell_no2]").text(a("#formObjRetLayer [name\x3drecvr_cell_no2]").val());d.find("[name\x3drecvr_cell_no3]").text(a("#formObjRetLayer [name\x3drecvr_cell_no3]").val());d.find("[name\x3drecvr_post_no]").text(a("#formObjRetLayer [name\x3drecvr_post_no]").val());
d.find("[name\x3drecvr_base_addr]").text(a("#formObjRetLayer [name\x3drecvr_base_addr]").val());d.find("[name\x3drecvr_dtl_addr]").text(a("#formObjRetLayer #view_dtl_addr").val());d.find("[name\x3drecvr_road_post_no]").text(a("#formObjRetLayer [name\x3drecvr_road_post_no]").val());d.find("[name\x3drecvr_road_base_addr]").text(a("#formObjRetLayer [name\x3drecvr_road_base_addr]").val());d.find("[name\x3drecvr_road_dtl_addr]").text(a("#formObjRetLayer #view_dtl_addr").val());d.find("[name\x3daddr_divi_cd]").text(a("#formObjRetLayer [name\x3daddr_divi_cd]").val());
"10"==a("#formObjRetLayer [name\x3daddr_divi_cd]").val()?(d.find("[name\x3dpost_no]").text(a("#formObjRetLayer [name\x3drecvr_post_no]").val()),d.find("[name\x3dbase_addr]").text(a("#formObjRetLayer [name\x3drecvr_base_addr]").val())):(d.find("[name\x3dpost_no]").text(a("#formObjRetLayer [name\x3drecvr_road_post_no]").val()),d.find("[name\x3dbase_addr]").text(a("#formObjRetLayer [name\x3drecvr_road_base_addr]").val()));d.find("[name\x3ddtl_addr]").text(a("#formObjRetLayer #view_dtl_addr").val());
isCostCalc=!1;c.close()}});d.on("click","#dlvpListBtn",function(){elandmall.popup.myDlvpListLayer({callback:function(a){d.find("[name\x3ddlvp_nm]").val(a.dlvp_nm);isChecked="Y"==a.base_yn?!0:!1;d.find("[name\x3dbase_yn]").prop("checked",isChecked);d.find("[name\x3drecvr_nm]").val(a.name);d.find("[name\x3drecvr_cell_no1]").val(a.cel_no1);d.find("[name\x3drecvr_cell_no2]").val(a.cel_no2);d.find("[name\x3drecvr_cell_no3]").val(a.cel_no3);d.find("[name\x3drecvr_tel1]").val(a.tel_no1);d.find("[name\x3drecvr_tel2]").val(a.tel_no2);
d.find("[name\x3drecvr_tel3]").val(a.tel_no3);d.find("[name\x3drecvr_road_post_no]").val(a.r_post_no);d.find("[name\x3drecvr_road_base_addr]").val(a.r_base_addr);d.find("[name\x3drecvr_road_dtl_addr]").val(a.r_dtl_addr);d.find("[name\x3drecvr_post_no]").val(a.j_post_no);d.find("[name\x3drecvr_base_addr]").val(a.j_base_addr);d.find("[name\x3drecvr_dtl_addr]").val(a.j_dtl_addr);var b,c,f,g="10";""!=a.r_post_no?(g="20",b=a.r_post_no,c=a.r_base_addr,f=a.r_dtl_addr):(b=a.j_post_no,c=a.j_base_addr,f=a.j_dtl_addr);
d.find("[name\x3daddr_divi_cd]").val(g);d.find("#view_post_no").val(b);d.find("#view_base_addr").val(c);d.find("#view_dtl_addr").val(f);d.find("[name\x3dord_memo_cont]").val(a.deli_msg)},close_call_back:function(){a("#dlvp_layer").remove();a("#myReturnDlvpLayer").show()}})})})}})},fnInit:function(b){"20"==a("[name\x3daddr_divi_cd]",b).val()?(a("#view_post_no",b).val(a("[name\x3drecvr_road_post_no]",b).val()),a("#view_base_addr",b).val(a("[name\x3drecvr_road_base_addr]",b).val()),a("#view_dtl_addr",
b).val(a("[name\x3drecvr_road_dtl_addr]",b).val())):(a("#view_post_no",b).val(a("[name\x3drecvr_post_no]",b).val()),a("#view_base_addr",b).val(a("[name\x3drecvr_base_addr]",b).val()),a("#view_dtl_addr",b).val(a("[name\x3drecvr_dtl_addr]",b).val()))},fnPostCallBack:function(b,c){console.log(c.addr_gb);a("[name\x3daddr_divi_cd]",b).val(c.addr_gb);a("[name\x3drecvr_post_no]",b).val(c.j_post_no);a("[name\x3drecvr_base_addr]",b).val(c.j_base_addr);a("[name\x3drecvr_dtl_addr]",b).val(c.j_dtl_addr);a("[name\x3drecvr_road_post_no]",
b).val(c.r_post_no);a("[name\x3drecvr_road_base_addr]",b).val(c.r_base_addr);a("[name\x3drecvr_road_dtl_addr]",b).val(c.r_dtl_addr);"20"==c.addr_gb?(a("#view_post_no",b).val(c.r_post_no),a("#view_base_addr",b).val(c.r_base_addr),a("#view_dtl_addr",b).val(c.r_dtl_addr)):(a("#view_post_no",b).val(c.j_post_no),a("#view_base_addr",b).val(c.j_base_addr),a("#view_dtl_addr",b).val(c.j_dtl_addr))},fnCheckFormSet:function(b){if(""==a("[name\x3ddlvp_nm]",b).val()&&"true"!=a("[name\x3dno_member]").val())return alert("배송지명을 입력해 주세요."),
!0;if(""==a("[name\x3drecvr_nm]",b).val())return alert("받으시는 분을 입력해 주세요."),!0;if(""!=a("[name\x3drecvr_tel1]").val()||""!=a("[name\x3drecvr_tel2]").val()||""!=a("[name\x3drecvr_tel3]").val())if(""==a("[name\x3drecvr_tel1]",b).val()||""==a("[name\x3drecvr_tel2]",b).val()||""==a("[name\x3drecvr_tel3]",b).val())return alert("전화번호를 올바르게 입력해주세요."),!0;if(""==a("[name\x3drecvr_cell_no1]",b).val()||""==a("[name\x3drecvr_cell_no2]",b).val()||""==a("[name\x3drecvr_cell_no3]",b).val())return alert("휴대폰 번호를 입력해 주세요."),
!0;if(""==a("#view_post_no",b).val())return alert("배송지 기본주소를 입력해 주세요."),!0;if(""==a("#view_dtl_addr",b).val())return alert("배송지 상세주소를 입력해 주세요."),!0;"20"==a("[name\x3daddr_divi_cd]",b).val()?a("[name\x3drecvr_road_dtl_addr]",b).val(a("#view_dtl_addr",b).val()):a("[name\x3drecvr_dtl_addr]",b).val(a("#view_dtl_addr",b).val());var c=a("#view_deli_memo_cont option:selected",b).val();"direct"==c?a("[name\x3dord_memo_cont]",b).val(a("textarea").val()):a("[name\x3dord_memo_cont]",b).val(c);if(0<b.find("#chk_bahus_odr").length){if(!a(":input[name\x3d'laddercar_yn']",
b).is(":checked"))return a(":input[name\x3d'laddercar_yn']",b).focus(),alert("사다리차 이용에 대한 동의를 하셔야 변경 가능합니다."),!0;if(!a(":input[name\x3d'elevator_yn']",b).is(":checked"))return a(":input[name\x3d'elevator_yn']:eq(0)",b).focus(),alert("엘리베이터 유무 체크는 필수 항목입니다."),!0;if("Y"==a(":input[name\x3d'wellanchor_yn']:checked",b).val()&&!a("#chk_fixed",b).is(":checked"))return a("#chk_fixed",b).focus(),alert("벽고정 설치에 대한 동의를 하셔야 변경 가능합니다."),!0;if(!a("#chk_bahus_odr",b).is(":checked"))return a("#chk_bahus_odr",b).focus(),
alert("가구 배송약관에 대한 동의를 하셔야 변경 가능합니다."),!0}return!1},fnNumberTypeChk:function(b){var c=/[^0-9]/gi,d=a(b).val(),f=d.length;c.test(d)&&(d=d.replace(c,""),f=d.length);a(b).val(4<d.length?f.substring(0,4):d)}};elandmall.goodDetailQuestLayer=function(b,c){elandmall.layer.createLayer({class_name:"layer_pop type02 d_layer_pop on",title:"상품문의",createContent:function(d){var f=d.div_content;f.load("/goods/initGoodsQuestLayer.action",b,function(){f.on("click","[name\x3dclssNo_ra]",function(){a("#counsel_clss_no",
f).val(a(this).val())});f.on("change","#goods_sel",function(){var b=a("#goods_sel option:selected",f);a("#goods_no",f).val(b.data("goods_no"));a("#vir_vend_no",f).val(b.data("vir_vend_no"))});f.on("click","#quest_bnt",function(){a("#counsel_clss_no",f).val(a("[name\x3dclssNo_ra]:checked").val());if(""==a("#counsel_clss_no").val())return alert("문의유형을 선택해 주세요."),!1;if(""==a("#quest_title").val())return alert("제목을 입력해 주세요."),!1;if(elandmall.checkBanWord(a("#quest_title").val()))return!1;if(""==a("#quest_cont").val())return alert("내용을 입력해주세요."),
!1;if(elandmall.checkBanWord(a("#quest_cont").val()))return!1;var h=a(this).data("gb"),k=a("#questForm").createForm(),g="/goods/registGoodsQuest.action";"U"==h&&(g="/goods/updateGoodsQuest.action");k.submit({action:g,iframe:!0,success:function(g){"I"==h&&(g=a("#quest_cnt_all").val(),a("#quest_cnt_all").val(Number(g)+1));"function"==a.type(c)?c():(b.goods_no=a("#goods_no",f).val(),elandmall.goodsDetailTab.fnQuest.fnSearchQuest(b));d.close()},error:function(a){if(null!=a.error_message&&""!=a.error_message)alert(a.error_message);
else return alert("상품문의 등록시 오류가 발생했습니다."),!1}})});f.on("keyup","#quest_title, #quest_cont",function(){var b=a(this),c=b.val().length,d=a(this).attr("maxlength");if(c>=d)return b.val(b.val().substr(0,d)),!1});f.on("click","#layer_close",function(){d.close()});a("[name\x3dclssNo_ra]",f).each(function(){a(this).is("checked")&&a(this).click()});a("#goods_sel",f).change();d.show()})}})};fnLayerClose=function(b){a("#lyr_notice_"+b).hide()};fnBtnCookie=function(b,c,d){var f=new Date;f.setHours(0);f.setMinutes(0);
f.setSeconds(0);"\x3c%\x3dConst.COOKIE_DISP__DIVI_CD_NEVER%\x3e"==b?f=new Date(d.toGMTString):"\x3c%\x3dConst.COOKIE_DISP__DIVI_CD_WEEK%\x3e"==b?f.setDate(f.getDate()+7):f.setDate(f.getDate()+1);document.cookie=c+"\x3d"+escape(!1)+("; domain\x3d"+elandmall.global.cookie_domain)+("; expires\x3d"+f.toGMTString())+"; path\x3d/";a("#lyr_notice_"+c).hide()};elandmall.stockNotiMbrLayer=function(b){b=a.extend({goods_no:"",item_no:"",vir_vend_no:"",item_nm:""},b||{});if(!elandmall.loginCheck()&&!confirm("로그인 하신 고객만 신청 가능 합니다. \n로그인 하시겠습니까?"))return!1;
elandmall.isLogin({login:function(){elandmall.layer.createLayer({layer_id:"reware_layer",dimm_use:0<a("#temp_dimm").length?!0:!1,class_name:"layer_pop lay_temp02 reware on",createContent:function(c){var d=c.div_content;d.load("/goods/initStockNotiMbrLayer.action",b,function(){var f={goods_no:b.goods_no,item_no:b.item_no,low_vend_type_cd:a("#option_low_vend_type_cd").val(),vir_vend_no:b.vir_vend_no};elandmall.optLayerEvt.ajaxItemList({param:f,success:function(c){var f=d.find("#item_opt_nm1");f.append(a("\x3coption\x3e옵션을 선택해 주세요.\x3c/option\x3e").attr({value:""}));
a.each(c,function(){var c=this.ITEM_NO,d=this.OPT_VAL_NM1,g=this.SALE_POSS_QTY,h=this.ITEM_NM_ADD_INFO;"undefined"==typeof h&&(h="");0<g?a("#opt_box").data("opt_val_nm1")==d&&(c=a("\x3coption\x3e"+d+h+"\x3c/option\x3e").attr({value:c}),c.attr("data-vir_vend_no",b.vir_vend_no),c.attr("data-item_show_nm",d),f.append(c)):(c=a("\x3coption \x3e"+d+h+"\x3c/option\x3e").attr({value:c}),c.attr("data-vir_vend_no",b.vir_vend_no),c.attr("data-item_show_nm",d),f.append(c))});d.find("[id^\x3ditem_opt_nm]").change(function(){var c=
a(this).val();if(""!=a(this).val())elandmall.optLayerEvt.changeStockNotiItem({param:{goods_no:b.goods_no,item_no:c,low_vend_type_cd:a("#low_vend_type_cd").val(),vir_vend_no:b.vir_vend_no},div:d,chgObj:a(this),callback_ajax:function(b){var c=d.find("#item_opt_nm"+b.next_idx);if("Y"!=a("#opt_box").data("init_yn")){var f="";a.each(a(c).children(),function(c,d){a("#opt_box").data("opt_val_nm"+b.next_idx)==a(this).text()&&(f=a(this).val())});c.attr("disabled",!1);c.val(f);c.change();"Y"==a(c).data("last")&&
a("#opt_box").data("init_yn","Y")}}});else{var c=d.find("[id^\x3ditem_opt_nm]"),f=a(this).attr("data-index");a.each(c,function(b,c){a(c).data("index")>f&&(a(c).attr("disabled",!0),a(c).children().remove(),a(c).append(a("\x3coption\x3e상위옵션을 선택해 주세요.\x3c/option\x3e").attr({value:""})))})}});if("Y"!=a("#opt_box").data("init_yn")){var g="";a.each(a(f).children(),function(b,c){a("#opt_box").data("opt_val_nm1")==a(this).text()&&(g=a(this).val())});""!=g?(f.attr("disabled",!1),f.val(g),f.change()):(c=d.find("[id^\x3ditem_opt_nm]"),
a.each(c,function(b,c){1!=a(c).data("index")&&(a(c).attr("disabled",!0),a(c).children().remove(),a(c).append(a("\x3coption\x3e상위옵션을 선택해 주세요.\x3c/option\x3e").attr({value:""})))}))}}});d.on("click","#reg_btn",function(){var f=d.find("[id^\x3ditem_opt_nm]"),k=0,g=b.item_no;a.each(f,function(b,c){"Y"==a(c).attr("data-last")&&(g=a(c).val());""==a(c).val()&&k++});0==k?confirm("재입고 알림을 신청하시겠습니까?")&&a.ajax({url:"/goods/registStockNotiMbr.action",data:{goods_no:b.goods_no,item_no:g},type:"post",dataType:"text",
success:function(a){"S"==a?(alert("신청되었습니다."),c.close()):"DUP"==a?(alert("이미 신청한 내역이 존재합니다."),c.close()):"MAX"==a?(alert("재입고 알림은 5개까지만 신청하실 수 있습니다."),c.close(),commonUI.view.dimmOff()):alert("신청중 오류가 발생하였습니다.")},error:function(a){null!=a.error_message&&""!=a.error_message?alert(a.error_message):alert("신청중 오류가 발생하였습니다.")}}):alert("옵션을 모두 입력해주세요.")});"Y"==a("#stock_noti_mbr_max_yn",d).val()?(alert("재입고 알림은 5개까지만 신청하실 수 있습니다."),d.remove(),commonUI.view.dimmOff()):c.show()})}})}})}})(jQuery);