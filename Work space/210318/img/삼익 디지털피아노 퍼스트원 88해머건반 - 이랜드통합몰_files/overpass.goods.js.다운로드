(function(a){"object"!=a.type(window.elandmall)&&(window.elandmall={});var z="",B="",C="";"object"!=a.type(window.elandmall.popup)&&(window.elandmall.popup={});elandmall.optLayerEvt={initopt:function(b){var c=null,c="undefined"!=typeof b&&"undefined"!=typeof b.obj?a("#_optChoiceLayer",a(b.obj)):a("#_optChoiceLayer");b=a(c).data("goods_info");var e=a(c).data("pre_item_info");z=b.goods_no;B=b.vir_vend_no;C=b.low_vend_type_cd;if("object"==typeof e&&"Y"!=b.multi_item_yn&&"20"==String(b.goods_cmps_divi_cd)&&
(a("[id^\x3dcmps_goods_grp]",c).each(function(b){b=e[a(this).data("cmps_grp_seq")];if("Y"==b.multi_item_yn){a(this).val(String(b.goods_no));a(this).change();var d=e[a(this).data("cmps_grp_seq")].item_nm.split("/"),h="";a.each(a("#item_opt_nm1",a("#setGrp"+a(this).data("cmps_grp_seq"),c)).children(),function(b,c){d[0]==a(this).data("item_show_nm")&&(h=a(this).val())});a("#item_opt_nm1",a("#setGrp"+a(this).data("cmps_grp_seq"),c)).val(h);a("#item_opt_nm1",a("#setGrp"+a(this).data("cmps_grp_seq"),c)).change()}else a(this).val(String(b.goods_no)),
a(this).change()}),"undefined"!=typeof e.gift_goods_info)){var d="",d=String(e.gift_goods_info),h=d.split(";");a("select[name\x3dgift_dtl_no]",c).each(function(b,c){a(this).val(h[b])})}"Y"!=b.multi_item_yn&&"20"==String(b.goods_cmps_divi_cd)&&0<a("#etc_box \x3e ul","#_optChoiceLayer").children("li").length&&a("#etc_box","#_optChoiceLayer").show()},ajaxItemList:function(b){var c=a("#detailform").find("input[name\x3d'event_layer_yn']").val(),e="undefined"!=typeof b.async?b.async:!0;if(""==b.param.ajax_yn||
"undefined"==typeof b.param.ajax_yn||null==b.param.ajax_yn){var d="POST",h=!1;"Y"==c&&(d="GET",h=!0);a.ajax({url:"/goods/searchGoodsItemList.action",data:b.param,async:e,type:d,cache:h,dataType:"json",success:function(c){"function"==a.type(b.success)&&b.success(c)}})}},getItemPrice:function(b){var c=a("#detailform").find("input[name\x3d'event_layer_yn']").val(),e="80"==a("#detailform").find("input[name\x3d'goods_type_cd']").val()?"Y":"";b.param.event_layer_yn=c;b.param.pkg_goods_yn=e;var e="POST",
d=!1;"Y"==c&&(e="GET",d=!0);a.ajax({url:"/goods/getGoodsItemPriceJson.action",data:b.param,type:e,cache:d,dataType:"json",success:function(c){"function"==a.type(b.success)&&(c.jwNormal_yn=b.param.jwNormal_yn,c.style_cd=b.param.style_cd,c.brand_cd=b.param.brand_cd,c.last_sap_item_cd=b.param.last_sap_item_cd,c.layer_yn=b.param.layer_yn,b.success(c))}})},getJwItemPrice:function(b){var c=a("#detailform").find("input[name\x3d'event_layer_yn']").val();b.param.event_layer_yn=c;var e="POST",d=!1;"Y"==c&&
(e="GET",d=!0);a.ajax({url:"/inter/searchItemPrice.action",data:b.param,type:e,cache:d,dataType:"json",success:function(c){if("function"==a.type(b.success)){c.ITEM_NO="00000";c.GOODS_NO=b.param.goods_no;c.VIR_VEND_NO=b.param.vir_vend_no;c.GOODS_NM=b.param.goods_nm;c.layer_yn=b.param.layer_yn;c.classkey=b.param.classkey;c.total_optCd=b.param.total_optCd;c.total_optNm=b.param.total_optNm;c.cust_item_no=b.param.cust_item_no;c.cust_item_nm=b.param.cust_item_nm;c.goods_opt_data=b.param.goods_opt_data;
c.carve_code=b.param.carve_code;c.cart_grp_cd=a(b.param.obj).val();c.shopCode=b.param.shopCode;c.quickview_yn=b.param.quickview_yn;var d=[];d.push(c);b.success(d)}elandmall.optLayerEvt.resetJwItemPriceRealTime()}})},getJwItemPriceRealtime:function(b){b=a.extend({obj:null},b);if(null==b.obj)console.log("div 정보가 없습니다.");else{var c=b.obj,e=b.opt_idx,d="",h="",f={},d=c.find("input[name\x3d'brand_cd']").val(),h=c.find("input[name\x3d'style_cd']").val();"80"==c.find("input[name\x3d'goods_type_cd']").val()&&
(b=c.find("#item_opt_li_data:eq(0)"),d=b.attr("data-brand_cd"),h=b.attr("data-style_cd"));var m=-1,g=!1;c.find(".selected").each(function(){var b=a(this).children("span.sel_txt").attr("data-sel-cd"),d=a(this).children("span.sel_txt").attr("data-opt_cd"),h=a(this).children("span.sel_txt").attr("data-index");"Y"==a(this).children("span.sel_txt").attr("data-last")&&(m=h);var r="",k="",n;"ISOS"==d||"OSIS"==d?(n=a(this).children("span.sel_txt").attr("data-carve_len"),n=n.split(","),"ISOS"==d?("IS"==b?
(r=c.find("#in_carve").val(),""==r&&(a(this).children("span.sel_txt").attr("data-carve_len"),r=elandmall.optLayerEvt.lpad(r,n[0],"0"))):"OS"==b?(k=c.find("#out_carve").val(),""==k&&(a(this).children("span.sel_txt").attr("data-carve_len"),k=elandmall.optLayerEvt.lpad(k,n[1],"0"))):(n=a(this).children("span.sel_txt").attr("data-carve_len"),n=n.split(","),r=c.find("#in_carve").val(),k=c.find("#out_carve").val(),r=elandmall.optLayerEvt.lpad(r,n[0],"0"),k=elandmall.optLayerEvt.lpad(k,n[1],"0")),g=!0):
"OSIS"==d&&("OS"==b?(k=c.find("#out_carve").val(),""==k&&(a(this).children("span.sel_txt").attr("data-carve_len"),k=elandmall.optLayerEvt.lpad(k,n[0],"0"))):"IS"==b?(r=c.find("#in_carve").val(),""==r&&(a(this).children("span.sel_txt").attr("data-carve_len"),r=elandmall.optLayerEvt.lpad(r,n[1],"0"))):(r=c.find("#in_carve").val(),k=c.find("#out_carve").val(),k=elandmall.optLayerEvt.lpad(k,n[0],"0"),r=elandmall.optLayerEvt.lpad(r,n[1],"0")),g=!0),"undefined"!=a.type(b)&&""!=b&&e>=h&&"XXXX"!=b&&("ISOS"==
d?(f.IS=r,f.OS=k):"OSIS"==d?(f.OS=k,f.IS=r):"IS"==b?(f[b]=r,g=!0):"OS"==b?(f[b]=k,g=!0):f[d]=b)):("IS"==b?(r=c.find("#in_carve").val(),""==r&&(n=a(this).children("span.sel_txt").attr("data-carve_len"),r=elandmall.optLayerEvt.lpad(r,n,"0")),g=!0):"OS"==b&&(k=c.find("#out_carve").val(),""==k&&(n=a(this).children("span.sel_txt").attr("data-carve_len"),k=elandmall.optLayerEvt.lpad(k,n,"0")),g=!0),"undefined"!=a.type(b)&&""!=b&&e>=h&&"XXXX"!=b&&(f[d]="IS"==b?r:"OS"==b?k:b))});if(!(1>c.find("input[name\x3d'field_rec']").length||
1>c.find("#recev_nm \x3e li").length)||g||e!=m)b={},b={BrandCode:d,StyleCode:h,OptionCode:f},d="POST",h=!1,"Y"==a("#detailform").find("input[name\x3d'event_layer_yn']").val()&&(d="GET",h=!0),a.ajax({url:"/inter/searchItemPrice.action",data:{goods_opt_data:JSON.stringify(b)},type:d,cache:h,dataType:"json",success:function(b){if("S"==b.ret_code){var c=elandmall.util.toCurrency(b.Content.Price);"10"==elandmall.global.chnl_cd?a(".fin_price").each(function(){a(this).children("strong").text(c);a(this).parents(".fin_price_parents").show()}):
a(".fin_price").each(function(){a(this).children("b").text(c);a(this).parents(".fin_price_parents").show()})}else console.log(b.ret_msg)}})}},resetJwItemPriceRealTime:function(){"10"==elandmall.global.chnl_cd?a(".fin_price").each(function(){a(this).children("strong").text("0");a(this).parents(".fin_price_parents").hide()}):a(".fin_price").each(function(){a(this).children("b").text("0");a(this).parents(".fin_price_parents").hide()});a(".fin_price_parents \x3e button").each(function(){a(this).hide()})},
nplusQtycheck:function(b){if("undefined"!=a.type(b.nplus_base_cnt)&&0<b.nplus_base_cnt&&"undefined"!=a.type(b.nplus_cnt)&&0<b.nplus_cnt){var c=parseInt(b.sale_poss_qty/(b.nplus_base_cnt+b.nplus_cnt)),e=c*b.nplus_base_cnt,c=b.sale_poss_qty-c*b.nplus_cnt+e,d=+b.ord_qty;0<c&&c>=b.nplus_base_cnt&&(c=b.nplus_base_cnt-1);e+=c;if(d>e)return alert("주문가능한 최대수량은 "+e+"개 입니다."),!0}return!1},getSetGoodsPrice:function(b){var c="undefined"!=typeof b.async?b.async:!0;b.param.event_layer_yn=a("#detailform").find("input[name\x3d'event_layer_yn']").val();
a.ajax({url:"/goods/getSetGoodsPrice.action",data:b.param,type:"POST",async:c,dataType:"json",success:function(c){"function"==a.type(b.success)&&b.success(c)}})},changeItem:function(b){function c(a){a.find(".sel_txt").attr("data-sel-msg")&&!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}var e=b.chgObj,d=b.div,h="",f="";"날짜캘린더"==a(e).parents(".options").data("opt_nm")&&
"undefined"==typeof b.param.mobileYn?(h=a(e).data("item_show_nm"),f=a(e).attr("data-value")):(h=a(e).parents(".selected").data("item_show_nm"),f=a(e).parents(".selected").attr("data-value"),b.param.jwFlag&&a(e).parents(".selected").attr("data-code"));var m=a(e).attr("data-multi_item_yn"),g=a("#detailform").find("input[name\x3d'event_layer_yn']").val(),l=a(e).parents(".options").data("index"),q=a(e).parents(".options").data("layer_yn"),t="undefined"!=typeof b.color_chip_yn?b.color_chip_yn:"N",r=+b.color_chip_val,
k=b.param;k.event_layer_yn=g;if(0<a("div#gd_float_opt_fix").length){if("Y"==q){var n=d.find("#options_nm"+l);a.each(n.children("li"),function(b,c){a(c).attr("data-value")==f?a(c).addClass("selected"):a(c).removeClass("selected")})}else n=d.find("#options_nm"+l+"L"),a.each(n.children("li"),function(b,c){a(c).attr("data-value")==f?a(c).addClass("selected"):a(c).removeClass("selected")});g=n.children(".selected");n=n.parent().siblings(".sel_btn");g.hasClass("sld_out")||(n.find(".sel_txt").attr("data-sel-msg",
h),n.find(".sel_txt").data("sel-msg",h),n.find(".sel_txt").attr("data-value",f),k.jwFlag&&n.find(".sel_txt").attr("data-sel-cd",a(e).parents(".selected").attr("data-code")),a(".lyr_select").removeClass("on"),g.addClass("selected").siblings("li").removeClass("selected"),c(n))}a.each(d.find("[id^\x3doptions_nm]"),function(b,c){b=a(c).data("index");if(b<=l)if("날짜캘린더"==a(c).data("opt_nm")&&"undefined"==typeof k.mobileYn)if(""==a(c).attr("data-item_show_nm"))for(var d=0;d<a(c).find("a[name\x3d'day']").length;d++){if(a(e).attr("data-item_show_nm")==
a(c).find("a[name\x3d'day']").eq(d).attr("data-item_show_nm")){k["opt_val_nm"+b]=a(c).find("a[name\x3d'day']").eq(d).data("item_show_nm");a(c).attr("data-item_show_nm",a(c).find("a[name\x3d'day']").eq(d).data("item_show_nm"));break}}else k["opt_val_nm"+b]=a(c).attr("data-item_show_nm");else k["opt_val_nm"+b]=a(c).children(".selected").data("item_show_nm")});g=h="";"날짜캘린더"==a(e).parents(".lyr_select").find(".sel_btn").children().data("opt_nm")&&"undefined"==typeof k.mobileYn?(h=a(e).attr("data-value"),
g=a(e).data("cancle_poss_yn")):(h=a(e).parent().attr("data-value"),g=a(e).parents(".selected").data("cancle_poss_yn"));if("soldout"==h)alert("죄송합니다. 선택하신 옵션은 품절 되었습니다.");else{"undefined"!=typeof g&&"N"==g&&alert("사용일 기준으로 7일 이내의 상품은 취소가 불가합니다.");if("Y"!=a(e).parents(".options").data("last")&&""!=f){"Y"==t&&r==l+1&&(k.color_yn="Y");var u=[];k.jwFlag&&(b.param.optionCode=d.find("[id^\x3ditem_opt_nm"+(l+1)+"]").data("opt_cd"),"Y"==k.pkg_goods_yn&&(b.param.low_vend_type_cd=k.low_vend_type_cd,b.param.deli_goods_divi_cd=
k.deli_goods_divi_cd,b.param.styleCode=k.styleCode));h=d.find("[id^\x3doptions_nm"+(l+1)+"]");t=d.find("[id^\x3doptions_nm"+(l+1)+"L]");r="";g=h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("opt_nm");r="Y"==q?t:h;k.ajax_yn="";k.jwFlag&&1>h.length&&(k.ajax_yn="Y");"날짜캘린더"==g&&(k.calendar_yn="Y");if(k.jwFlag&&"각인"==g)if("Y"==k.carve_yn){a('li[name\x3d"li_input_carve"]').remove();a('dd[name\x3d"dd_input_carve"]').remove();a("#dd_receive_choice").hide();a("#branchInfoBox").hide();
a("#branchInfoBoxL").hide();h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value","");h.parents(".lyr_select").children(".sel_btn").removeClass("selected");h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","옵션을 선택해 주세요");h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-msg","");h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd","");h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").text(h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("opt_nm")+
" 옵션을 선택해 주세요");h.parents(".lyr_select").removeClass("disabled");n=g="";"ISOS"==r.attr("data-opt_cd")||"OSIS"==h.attr("data-opt_cd")?(g=g+'\x3cli data-code\x3d"ISOS" data-item_show_nm\x3d"속각인 \x26 겉각인"\x3e'+('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g=g+'\x3cspan class\x3d"opt_name"\x3e속각인 \x26 겉각인\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli data-code\x3d"IS" data-item_show_nm\x3d"속각인"\x3e'+
('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g=g+'\x3cspan class\x3d"opt_name"\x3e속각인\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli data-code\x3d"OS" data-item_show_nm\x3d"겉각인"\x3e'+('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g+='\x3cspan class\x3d"opt_name"\x3e겉각인\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e'):
"IS"==r.attr("data-opt_cd")?(g=g+'\x3cli data-code\x3d"IS" data-item_show_nm\x3d"속각인"\x3e'+('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g+='\x3cspan class\x3d"opt_name"\x3e속각인\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e'):"OS"==r.attr("data-opt_cd")&&(g=g+'\x3cli data-code\x3d"OS" data-item_show_nm\x3d"겉각인"\x3e'+('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+
q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g+='\x3cspan class\x3d"opt_name"\x3e겉각인\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e');"Y"==r.attr("data-field_recev_poss_yn")||"Y"==r.attr("data-present_yn")?(g=g+'\x3cli data-code\x3d"XXXX" data-item_show_nm\x3d"사용안함"\x3e'+('\x3cspan class\x3d"ancor" onclick\x3d"elandmall.goodsDetail.fnCarveSelectItem({obj:this, layer_yn:\''+q+"', quickview_yn:'"+k.quickview_yn+"'})\"\x3e"),g+='\x3cspan class\x3d"opt_name"\x3e사용안함\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e'):
(n="XXXX",g+='\x3cli data-code\x3d"XXXX" data-item_show_nm\x3d"사용안함"\x3e\x3cspan class\x3d"ancor opt_use_n" \x3e\x3cspan class\x3d"opt_name"\x3e사용안함\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e');h.html(g);t.html(g);if("XXXX"==n){var w={obj:this,layer_yn:q,carve_code:n,quickview_yn:k.quickview_yn};h.find("span.opt_use_n").each(function(){a(this).unbind("click",elandmall.goodsDetail.fnCarveGetPriceItem);a(this).bind("click",w,elandmall.goodsDetail.fnCarveGetPriceItem)});t.find("span.opt_use_n").each(function(){a(this).unbind("click",
elandmall.goodsDetail.fnCarveGetPriceItem);a(this).bind("click",w,elandmall.goodsDetail.fnCarveGetPriceItem)})}"function"==a.type(b.callback_ajax)&&b.callback_ajax({curr_idx:l,next_idx:l+1})}else elandmall.optLayerEvt.ajaxItemList({param:k,success:function(c){var f=d.find("[id^\x3doptions_nm"+(l+1)+"]");"날짜캘린더"==f.attr("data-opt_nm")&&"undefined"==typeof k.mobileYn||f.children().remove();f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value","");f.parents(".lyr_select").children(".sel_btn").removeClass("selected");
f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","옵션을 선택해 주세요");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-msg","");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd","");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").text(f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("opt_nm")+" 옵션을 선택해 주세요");f.parents(".lyr_select").removeClass("disabled");
var h=f.parents(".lyr_select").children(".sel_btn");a('li[name\x3d"li_input_carve"]').remove();a('dd[name\x3d"dd_input_carve"]').remove();a("#dd_receive_choice").hide();a("#branchInfoBox").hide();a("#branchInfoBoxL").hide();var g=d.find("[id^\x3doptions_nm]");a.each(g,function(b,c){a(c).data("index")>l+1&&("날짜캘린더"==a(c).attr("data-opt_nm")&&"undefined"==typeof k.mobileYn||a(c).children().remove(),a(c).parents(".lyr_select").children(".sel_btn").removeClass("selected"),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg",
"상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").text("상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value",""),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd",""),a(c).parents(".lyr_select").hasClass("disabled")||a(c).parents(".lyr_select").addClass("disabled"),a(c).parents(".lyr_select").siblings(".list_chip").children(".colorChipList").children().remove())});a.each(c,
function(b,c){b=c.ITEM_NO;var d=c.ITEM_NM,g=c.SALE_POSS_QTY,r="",m="";k.jwFlag?(r=c.OPT_VAL_CD1,m=c.OPT_VAL_NM1):(r="",m=c["OPT_VAL_NM"+(l+1)]);var q=c.VIR_VEND_NO,n=c.ITEM_NM_ADD_INFO,w=c.ITEM_SALE_PRICE,v=c.GOODS_SALE_PRICE,u=a("#option_low_vend_type_cd").val();a("#resd_sale_price").val();"undefined"==typeof n&&(n="");0<a("#item_opt_li_data").length&&(n=a("#item_opt_li_data"),u=n.data("low_vend_type_cd"),n.data("resd_sale_price"));w=-1<w&&"40"!=u?0==w?elandmall.util.toCurrency(v):elandmall.util.toCurrency(w):
elandmall.util.toCurrency(v);""!=w&&"0"!=w&&(w+="원");v="";k.jwFlag&&0<a("#_optChoiceLayer").length&&a("#_optChoiceLayer").remove();v=0<a("#_optChoiceLayer").length?"Y"==k.set_goods_yn?"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerSetItem({obj:this})'":"Y"==k.pkg_goods_yn?"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerPkgItem({obj:this})'":"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerItem({obj:this})'":"Y"==k.set_goods_yn?"onclick\x3d'elandmall.goodsDetail.fnSelectSetItem({obj:this})'":"Y"==
k.pkg_goods_yn?"onclick\x3d'elandmall.goodsDetail.fnSelectPkgItem({obj:this})'":"onclick\x3d'elandmall.goodsDetail.fnSelectItem({obj:this})'";"Y"!=h.children(".sel_txt").attr("data-last")&&(w="");u=null;if(k.jwFlag)u=a("\x3cli\x3e\x3cspan class\x3d'ancor' "+v+"\x3e\x3cspan class\x3d'opt_name'\x3e"+m+"\x3c/span\x3e\x3c/li\x3e").attr({"data-code":r});else if(0<g)u=a("\x3cli\x3e\x3cspan class\x3d'ancor' "+v+"\x3e\x3cspan class\x3d'opt_name'\x3e"+m+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
w+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":b});else{var t="",r=0<a("div.goods_detail_txt").length?"Y"==k.set_goods_yn?e.parents(".opt_box").find(".sel_txt"):a(".goods_detail_txt").find(".sel_txt"):a(".g_opt").find(".sel_txt");0==r.length&&(r=0<a("div.order_opt").length?"Y"==k.set_goods_yn?e.parents(".opt_box").find(".sel_txt"):a(".order_opt").find(".sel_txt"):a(".g_opt").find(".sel_txt"));a.each(r,function(b,c){b=a(c).attr("data-sel-msg");-1!=a(c).attr("id").indexOf("item_opt_nm")&&
""!=b&&void 0!=b&&(t=""==t?t+b:t+("/"+b))});t=""==t?t+m:t+("/"+m);u="10"==a("#reserv_limit_divi_cd").val()||"20"==a("#reserv_limit_divi_cd").val()?a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+m+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+w+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"}):a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+
m+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+w+"\x3c/em\x3e\x3c/span\x3e\x3ca class\x3d'opt_stock' onclick\x3d\"elandmall.stockNotiMbrLayer({goods_no:'"+k.goods_no+"',vir_vend_no:'"+k.vir_vend_no+"',item_no:'"+b+"',item_nm:'"+t+"'});\"\x3e입고알림신청\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"})}"Y"==k.set_goods_yn&&u.attr("data-set_cmps_item_no",c.SET_CMPS_ITEM_NO);u.attr("data-item_nm",d);u.attr("data-vir_vend_no",q);u.attr("data-item_show_nm",
m);u.attr("data-sale_poss_qty",g);f.append(u)});"function"==a.type(b.callback_ajax)&&b.callback_ajax({curr_idx:l,next_idx:l+1,data:c,calenderDataList:u})}});else elandmall.optLayerEvt.ajaxItemList({param:k,success:function(c){var f=d.find("[id^\x3doptions_nm"+(l+1)+"]");"날짜캘린더"==f.attr("data-opt_nm")&&"undefined"==typeof k.mobileYn||f.children().remove();f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value","");f.parents(".lyr_select").children(".sel_btn").removeClass("selected");
f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","옵션을 선택해 주세요");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-msg","");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd","");f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").text(f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("opt_nm")+" 옵션을 선택해 주세요");f.parents(".lyr_select").removeClass("disabled");
var h=f.parents(".lyr_select").children(".sel_btn");k.jwFlag?(a('li[name\x3d"li_input_carve"]').remove(),a('dd[name\x3d"dd_input_carve"]').remove(),"SI"==f.attr("data-opt_cd")&&f.parents(".lyr_select").addClass("hasDefault ")):"Y"==m&&a("#dd_receive_choice").hide();var g=d.find("[id^\x3doptions_nm]");a.each(g,function(b,c){a(c).data("index")>l+1&&("날짜캘린더"==a(c).attr("data-opt_nm")&&"undefined"==typeof k.mobileYn||a(c).children().remove(),a(c).parents(".lyr_select").children(".sel_btn").removeClass("selected"),
a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").text("상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value",""),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd",""),a(c).parents(".lyr_select").hasClass("disabled")||a(c).parents(".lyr_select").addClass("disabled"),a(c).parents(".lyr_select").siblings(".list_chip").children(".colorChipList").children().remove())});
if(k.jwFlag||k.jwNormalFlag)a("#branchInfoBox").hide(),a("#branchInfoBoxL").hide(),a("#dd_receive_choice").hide();if("날짜캘린더"==f.data("opt_nm")&&"undefined"==typeof k.mobileYn){var r=!1;a.each(c,function(b,c){b=c.ITEM_NO;var d=c.SALE_POSS_QTY,e=c["OPT_VAL_NM"+(l+1)],h=c.VIR_VEND_NO,g=c.ITEM_SALE_PRICE,m=c.GOODS_SALE_PRICE,q=c.CANCLE_POSS_YN,n=a("#option_low_vend_type_cd").val();a("#resd_sale_price").val();var w=c.MIN_SALE_PRICE,t=Number(c.CNT),v="";r||(f.parents(".lyr_select").attr("yyyymm",(new Date(e)).format("yyyyMM")),
r=!0);-1<g&&"40"!=n?(0==g&&(g=elandmall.util.toCurrency(m)),g=elandmall.util.toCurrency(g)):g=elandmall.util.toCurrency(m);""!=g&&"0"!=g&&(g+="원");1<t?(g=elandmall.util.toCurrency(w),v="원~"):""!=w&&(g=elandmall.util.toCurrency(g),v="원");u.push("Y"==k.set_goods_yn?{item_no:b,data_vir_vend_no:h,data_item_show_nm:e,opt_val_nm:e,sale_poss_qty:d,data_set_cmps_item_no:c.SET_CMPS_ITEM_NO,data_cancle_poss_yn:q,item_sale_price:g,price_str:v}:{item_no:b,data_vir_vend_no:h,data_item_show_nm:e,opt_val_nm:e,sale_poss_qty:d,
data_set_cmps_item_no:"",data_cancle_poss_yn:q,item_sale_price:g,price_str:v});0<a("#item_opt_li_data").length&&(c=a("#item_opt_li_data"),c.data("low_vend_type_cd"),c.data("resd_sale_price"))});b.callback_ajax({curr_idx:l,next_idx:l+1,data:c,calenderDataList:u})}else a.each(c,function(b,d){var g=d.ITEM_NO,r=d.ITEM_NM,m=d.SALE_POSS_QTY,q="",n="";k.jwFlag?(q=d.OPT_VAL_CD1,n=d.OPT_VAL_NM1):(q="",n=d["OPT_VAL_NM"+(l+1)]);var w=d.VIR_VEND_NO,u=d.ITEM_NM_ADD_INFO,t=d.ITEM_SALE_PRICE,v=d.GOODS_SALE_PRICE,
x=a("#option_low_vend_type_cd").val();a("#resd_sale_price").val();var A=d.CANCLE_POSS_YN,D=d.SAP_ITEM_CD;"undefined"==typeof u&&(u="");0<a("#item_opt_li_data").length&&(u=a("#item_opt_li_data"),x=u.data("low_vend_type_cd"),u.data("resd_sale_price"));t=-1<t&&"40"!=x?0==t?elandmall.util.toCurrency(v):elandmall.util.toCurrency(t):elandmall.util.toCurrency(v);""!=t&&"0"!=t&&(t+="원");v="";k.jwFlag&&0<a("#_optChoiceLayer").length&&a("#_optChoiceLayer").remove();v=0<a("#_optChoiceLayer").length?"Y"==k.set_goods_yn?
"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerSetItem({obj:this})'":"Y"==k.pkg_goods_yn?"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerPkgItem({obj:this})'":"onclick\x3d'elandmall.optLayerEvt.fnSelectLayerItem({obj:this})'":"Y"==k.set_goods_yn?"onclick\x3d'elandmall.goodsDetail.fnSelectSetItem({obj:this})'":"Y"==k.pkg_goods_yn?"onclick\x3d'elandmall.goodsDetail.fnSelectPkgItem({obj:this})'":"onclick\x3d'elandmall.goodsDetail.fnSelectItem({obj:this})'";"Y"!=h.children(".sel_txt").attr("data-last")&&
(t="");x=null;if(k.jwFlag)x="SI"==f.attr("data-opt_cd")&&b==Math.floor(c.length/2)-1?a("\x3cli\x3e\x3cspan class\x3d'ancor dVal' "+v+"\x3e\x3cspan class\x3d'opt_name'\x3e"+n+"\x3c/span\x3e\x3c/li\x3e").attr({"data-code":q}):a("\x3cli\x3e\x3cspan class\x3d'ancor' "+v+"\x3e\x3cspan class\x3d'opt_name'\x3e"+n+"\x3c/span\x3e\x3c/li\x3e").attr({"data-code":q});else if(0<m)x=a("\x3cli\x3e\x3cspan class\x3d'ancor' "+v+"\x3e\x3cspan class\x3d'opt_name'\x3e"+n+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
t+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":g,"data-sap_item_cd":D});else{var y="";b=0<a("div.goods_detail_txt").length?"Y"==k.set_goods_yn?e.parents(".opt_box").find(".sel_txt"):a(".goods_detail_txt").find(".sel_txt"):a(".g_opt").find(".sel_txt");0==b.length&&(b=0<a("div.order_opt").length?"Y"==k.set_goods_yn?e.parents(".opt_box").find(".sel_txt"):a(".order_opt").find(".sel_txt"):a(".g_opt").find(".sel_txt"));a.each(b,function(b,c){b=a(c).attr("data-sel-msg");-1!=a(c).attr("id").indexOf("item_opt_nm")&&
""!=b&&void 0!=b&&(y=""==y?y+b:y+("/"+b))});y=""==y?y+n:y+("/"+n);b=a("input[name\x3d'event_layer_yn']").val();x="10"==a("#reserv_limit_divi_cd").val()||"20"==a("#reserv_limit_divi_cd").val()||"Y"==b?a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+n+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+t+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"}):a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+
n+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+t+"\x3c/em\x3e\x3c/span\x3e\x3ca class\x3d'opt_stock' onclick\x3d\"elandmall.stockNotiMbrLayer({goods_no:'"+k.goods_no+"',vir_vend_no:'"+k.vir_vend_no+"',item_no:'"+g+"',item_nm:'"+y+"'});\"\x3e입고알림신청\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"})}"Y"==k.set_goods_yn&&x.attr("data-set_cmps_item_no",d.SET_CMPS_ITEM_NO);x.attr("data-item_nm",r);x.attr("data-vir_vend_no",w);x.attr("data-item_show_nm",
n);x.attr("data-sale_poss_qty",m);"undefined"!=typeof A&&""!=A&&x.attr("data-cancle_poss_yn",A);f.append(x)});"function"==a.type(b.callback_ajax)&&b.callback_ajax({curr_idx:l,next_idx:l+1,data:c,calenderDataList:u})}})}else""==f&&(h=d.find("[id^\x3doptions_nm"+(l+1)+"]"),h.children().remove(),h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value",""),h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","옵션을 선택해 주세요"),h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-msg",
""),h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd",""),h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").text(h.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("opt_nm")+" 옵션을 선택해 주세요"),h.parents(".lyr_select").removeClass("disabled"),q=d.find("[id^\x3doptions_nm]"),a.each(q,function(b,c){a(c).data("index")>l+1&&(a(c).children().remove(),a(c).parents(".lyr_select").children(".sel_btn").removeClass("selected"),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg",
"상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").text("상위 옵션을 선택해 주세요."),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value",""),a(c).parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd",""),a(c).parents(".lyr_select").hasClass("disabled")||a(c).parents(".lyr_select").addClass("disabled"),a(c).parents(".lyr_select").siblings(".list_chip").children(".colorChipList").children().remove())}),0<a("div#gd_float_opt_fix").length&&
(q=d.find("#options_nm"+(l+1)+"L"),q.children("option").remove(),q.children().remove(),q.parents(".lyr_select").children(".sel_btn").removeClass("selected"),q.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-org-msg","상위 옵션을 선택해 주세요."),q.parents(".lyr_select").children(".sel_btn").children(".sel_txt").text("상위 옵션을 선택해 주세요."),q.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-value",""),q.parents(".lyr_select").children(".sel_btn").children(".sel_txt").attr("data-sel-cd",
""),q.parents(".lyr_select").hasClass("disabled")||q.parents(".lyr_select").addClass("disabled")),"Y"==t&&1!=r&&a(".colorChipList").html(""));"function"==a.type(b.callback)&&b.callback({curr_idx:l,next_idx:l+1});b.param.jwFlag&&elandmall.optLayerEvt.getJwItemPriceRealtime({obj:d,opt_idx:l})}},changeItemOrigin:function(b){var c=b.chgObj,e=b.div;a(c).children(":selected").data("item_show_nm");var d=+a(c).data("index"),h=a(c).data("layer_yn"),f="undefined"!=typeof b.color_chip_yn?b.color_chip_yn:"N",
m=+b.color_chip_val,g=b.param;0<a("div#gd_float_opt_fix").length&&("Y"==h?a("#item_opt_nm"+d,e).val(c.val()):a("#item_opt_nm"+d+"L",e).val(c.val()));a.each(e.find("[id^\x3ditem_opt_nm]"),function(c,b){c=a(b).data("index");c<=d&&(g["opt_val_nm"+c]=a(b).children(":selected").data("item_show_nm"))});"soldout"==a(c).val()?alert("죄송합니다. 선택하신 옵션은 품절 되었습니다."):("undefined"!=typeof a(c).children("option:selected").data("cancle_poss_yn")&&"N"==a(c).children("option:selected").data("cancle_poss_yn")&&alert("사용일 기준으로 7일 이내의 상품은 취소가 불가합니다."),
"Y"!=a(c).data("last")&&""!=a(c).val()?("Y"==f&&m==d+1&&(g.color_yn="Y"),elandmall.optLayerEvt.ajaxItemList({param:g,success:function(c){var f=e.find("[id^\x3ditem_opt_nm"+(d+1)+"]");f.children("option").remove();f.append(a("\x3coption\x3e"+f.data("opt_nm")+" 옵션을 선택해 주세요.\x3c/option\x3e").attr({value:""}));f.attr("disabled",!1);a.each(c,function(c,b){var e=b.ITEM_NO;c=b.ITEM_NM;var h=b.SALE_POSS_QTY,m=b["OPT_VAL_NM"+(d+1)],r=b.VIR_VEND_NO,l=b.ITEM_NM_ADD_INFO;a("#option_low_vend_type_cd").val();a("#resd_sale_price").val();
var q;"undefined"==typeof l&&(l="");0<a("#item_opt_li_data").length&&(q=a("#item_opt_li_data"),q.data("low_vend_type_cd"),q.data("resd_sale_price"));e=0<h?a("\x3coption\x3e"+m+l+"\x3c/option\x3e").attr({value:e}):a("\x3coption\x3e (품절)"+m+l+"\x3c/option\x3e").attr({value:"soldout"});"Y"==g.set_goods_yn&&e.attr("data-set_cmps_item_no",b.SET_CMPS_ITEM_NO);e.attr("data-item_nm",c);e.attr("data-vir_vend_no",r);e.attr("data-item_show_nm",m);f.append(e)});"function"==a.type(b.callback_ajax)&&b.callback_ajax({curr_idx:d,
next_idx:d+1,data:c})}})):""==a(c).val()&&(c=e.find("#item_opt_nm"+(d+1)),c.children("option").remove(),c.append(a("\x3coption\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e").attr({value:""})),c.attr("disabled",!0),0<a("div#gd_float_opt_fix").length&&(h=e.find("#item_opt_nm"+(d+1)+"L"),h.children("option").remove(),h.append(a("\x3coption\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e").attr({value:""})),h.attr("disabled",!0)),c.change(),"Y"==f&&1!=m&&a(".colorChipList").html("")),"function"==a.type(b.callback)&&b.callback({curr_idx:d,
next_idx:d+1}))},changeStockNotiItem:function(b){var c=b.chgObj,e=b.div;a(c).children(":selected").data("item_show_nm");var d=+a(c).data("index"),h=b.param;a.each(e.find("[id^\x3ditem_opt_nm]"),function(b,c){b=a(c).data("index");b<=d&&(h["opt_val_nm"+b]=a(c).children(":selected").data("item_show_nm"))});if("Y"!=a(c).data("last")&&""!=a(c).attr("value"))elandmall.optLayerEvt.ajaxItemList({param:h,success:function(f){var h=e.find("[id^\x3ditem_opt_nm"+(d+1)+"]");h.children("option").remove();h.append(a("\x3coption\x3e"+
h.data("opt_nm")+" 옵션을 선택해 주세요.\x3c/option\x3e").attr({value:""}));h.attr("disabled",!1);a.each(f,function(b,c){var f=c.ITEM_NO;b=c.ITEM_NM;var e=c.SALE_POSS_QTY,g=c["OPT_VAL_NM"+(d+1)],m=c.VIR_VEND_NO;c=c.ITEM_NM_ADD_INFO;a("#option_low_vend_type_cd").val();a("#resd_sale_price").val();"undefined"==typeof c&&(c="");0<e?a("#opt_box").data("opt_val_nm"+(d+1))==g&&(c=a("\x3coption\x3e"+g+c+"\x3c/option\x3e").attr({value:f}),c.attr("data-item_nm",b),c.attr("data-vir_vend_no",m),c.attr("data-item_show_nm",
g),h.append(c)):(c=a("\x3coption\x3e"+g+c+"\x3c/option\x3e").attr({value:f}),c.attr("data-item_nm",b),c.attr("data-vir_vend_no",m),c.attr("data-item_show_nm",g),h.append(c))});var g=e.find("[id^\x3ditem_opt_nm]");a.each(g,function(b,d){a(c).data("index")+1<a(d).data("index")&&(a(d).children("option").remove(),a(d).append(a("\x3coption\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e").attr({value:""})),a(d).attr("disabled",!0))});"function"==a.type(b.callback_ajax)&&b.callback_ajax({curr_idx:d,next_idx:d+1,data:f})}});
else if(""==a(c).val()){var f=e.find("#item_opt_nm"+(d+1)),m=e.find("[id^\x3ditem_opt_nm]");a.each(m,function(b,d){a(c).data("index")<a(d).data("index")&&(a(d).children("option").remove(),a(d).append(a("\x3coption\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e").attr({value:""})),a(d).attr("disabled",!0))});f.change()}"function"==a.type(b.callback)&&b.callback({curr_idx:d,next_idx:d+1})},callCartCheck:function(b){var c=b.param;a.ajax({url:"/goods/getGoodsTypeflagJson.action",async:!1,data:c,type:"GET",dataType:"json",
success:function(e){"LOTNOT"==e?alert("현재 배송지는 오늘직송이 불가능합니다."):"DEF"==e?a.ajax({url:"/goods/searchAddCartGoodsInfo.action",async:!1,data:c,type:"POST",dataType:"json",success:function(a){a=a.goodsInfo;if("0000"!=a.RET_CODE)"-0001"==a.RET_CODE||"-0003"==a.RET_CODE?alert("판매 중지된 상품입니다."):"-0058"==a.RET_CODE?alert("상품 구매 권한이 없습니다."):"-0059"==a.RET_CODE?alert("구매에 불편을 드려 죄송합니다.\n본 상품은 브랜드와 협의 중인 상품으로,\n기업회원 대상으로 서비스를 확대할 예정입니다."):alert("품절된 상품입니다.");else{var c=b.param,d="undefined"!=typeof c.cart_divi_cd?
c.cart_divi_cd:"10",c={goods_no:a.GOODS_NO,chk_yn:"Y",add_ord_sel_info:"",gift_goods_info:"",goods_cmps_divi_cd:"10",multi_item_yn:a.MULTI_ITEM_YN,multi_price_yn:"",cart_divi_cd:d,cart_grp_cd:"undefined"!=typeof c.cart_grp_cd&&""!=c.cart_grp_cd?c.cart_grp_cd:"10",ord_yn:"N",sale_shop_divi_cd:c.sale_shop_divi_cd,sale_shop_no:c.sale_shop_no,sale_area_no:c.sale_area_no,set_goods_no:"",conts_dist_no:c.conts_dist_no,nplus_base_cnt:a.NPLUS_BASE_CNT,nplus_cnt:a.NPLUS_CNT,sale_unit_qty:a.SALE_UNIT_QTY,stock_qty_disp_yn:"",
sale_price:a.SALE_PRICE,item_no:a.ITEM_NO,vir_vend_no:a.VIR_VEND_NO,ord_qty:a.ORD_QTY},e=[];"undefind"!=typeof a.gift_goods_info&&""!=a.gift_goods_info&&(c.gift_goods_info=a.gift_goods_info);e.push(c);elandmall.cart.addCart({cart_divi_cd:d,items:e})}}}):"DNT"==e?alert("해당 상품은 장바구니 담기가 불가 합니다."):""==e?alert("상품정보가 올바르지 않습니다."):"undefined"!=typeof b.callback&&"function"==typeof b.callback&&b.callback()}})},changeSetGoods:function(b){var c=a(b).parent().parent("ul").data("cmps_grp_seq"),e=a(b),d=a(e).attr("data-multi_item_yn"),
h=a("[id^\x3dsetGrp"+c+"]"),f=a(b).attr("data-value"),m=h.find("input[name\x3d'event_layer_yn']").val();if(!a(b).parent().hasClass("sld_out"))if(a(h).children("ul").children("li:not([id^\x3dli_cmps_goods_grp"+c+"])").remove(),a(b).removeData("cmps_info"),a("#cmps_goods_grp"+c).attr("data-goods_no",f),a("#cmps_goods_grp"+c).attr("data-vir_vend_no",a(e).attr("data-vir_vend_no")),"Y"!=d)""!=f?a("#cmps_goods_grp"+c).attr("data-choice_yn","Y"):a("#cmps_goods_grp"+c).attr("data-choice_yn","N"),a("#cmps_goods_grp"+
c).data("cmps_info",{cmps_grp_seq:c,goods_no:f,vir_vend_no:a(e).attr("data-vir_vend_no"),item_no:a(e).attr("data-item_no"),set_cmps_item_no:""+a(e).attr("data-set_cmps_item_no"),sale_poss_qty:a(e).attr("data-sale_poss_qty")}),a("#cmps_goods_grp"+c).attr("data-item_no",a(e).attr("data-item_no")),a("#cmps_goods_grp"+c).attr("data-goods_no",f);else{elandmall.optLayerEvt.drawItemSelect({obj:b});var g=a(e).data("vir_vend_no"),l=a("#_optChoiceLayer").data("goods_info").goods_no,q=a("#_optChoiceLayer").data("goods_info").low_vend_type_cd;
elandmall.optLayerEvt.ajaxItemList({param:{goods_no:f,vir_vend_no:g,set_goods_yn:"Y",set_goods_no:l,cmps_grp_seq:c,event_layer_yn:m},async:!1,success:function(b){var d=h.find("[id^\x3doptions_nm1]");$selBtn=d.parents(".lyr_select").children(".sel_btn");a.each(b,function(){var c=this.ITEM_NO,b=this.OPT_VAL_NM1,e=this.SALE_POSS_QTY,h=this.ITEM_SALE_PRICE,m=this.GOODS_SALE_PRICE;-1<h&&"40"!=q?(0==h&&(h=elandmall.util.toCurrency(m)),h=elandmall.util.toCurrency(h)):h=elandmall.util.toCurrency(m);""!=h&&
"0"!=h&&(h+="원");"Y"!=$selBtn.children(".sel_txt").attr("data-last")&&(h="");c=0<e?a("\x3cli\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e"+b+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+h+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":c}):a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+b+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
h+"\x3c/em\x3e\x3c/span\x3e\x3ca class\x3d'opt_stock' onclick\x3d\"elandmall.stockNotiMbrLayer({goods_no:'"+f+"',vir_vend_no:'"+g+"',item_no:'"+c+"',item_nm:'"+b+"'});\"\x3e입고알림신청\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"});c.attr("data-set_cmps_item_no",this.SET_CMPS_ITEM_NO);c.attr("data-item_show_nm",b);d.append(c)});h.find(".lyr_options .options li .ancor").click(function(){var b=a(this);a(this).parent().parent(".options").data("index");var d=a(this).parent(),e=a(this).parent().parent().parent().siblings(".sel_btn");
d.hasClass("sld_out")||(e.find(".sel_txt").attr("data-sel-msg",a(this).find(".opt_name").text()),e.find(".sel_txt").data("sel-msg",a(this).find(".opt_name").text()),e.find(".sel_txt").attr("data-value",d.attr("data-value")),a("#cmps_goods_grp"+c).attr("data-item_no",b.parent().attr("data-value")),a("#cmps_goods_grp"+c).attr("data-set_cmps_item_no",b.parent().attr("data-set_cmps_item_no")),a(".lyr_select").removeClass("on"),d.addClass("selected").siblings("li").removeClass("selected"),function(a){a.find(".sel_txt").attr("data-sel-msg")&&
!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}(e),elandmall.optLayerEvt.changeItem({param:{goods_no:f,vir_vend_no:g,set_goods_yn:"Y",set_goods_no:l,cmps_grp_seq:c,event_layer_yn:m},div:h,chgObj:b,callback_ajax:function(b){var d=h.find("#options_nm"+b.next_idx),e=a("#setGrp"+c).data("init_yn"),f=a("#_optChoiceLayer").data("pre_item_info");if("undefined"!=typeof f&&"Y"!=
e){var g="",m=f[c].item_nm.split("/");a.each(a(d).children(),function(c,d){m[+b.next_idx-1]==a(this).data("item_show_nm")&&(g=a(this).val())});d.val(g);d.change();"Y"==a(d).data("last")&&a("#setGrp"+c).data("init_yn","Y")}},callback:function(d){d=b.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("last");var e=b.parent().attr("data-value");"Y"==d&&""!=e&&(""!=e?a("#cmps_goods_grp"+c).attr("data-choice_yn","Y"):a("#cmps_goods_grp"+c).attr("data-choice_yn","N"),a("#cmps_goods_grp"+
c).data("cmps_info",{cmps_grp_seq:c,goods_no:f,vir_vend_no:g,item_no:e,set_cmps_item_no:""+b.parent().attr("data-set_cmps_item_no")}),a("#giftInfo"))}}))})}})}},changePkgCmpsGoods:function(b){function c(a,c){a.siblings(".lyr_options").css({display:"block",visibility:"hidden"});var b=a.siblings(".lyr_options").find(".options");c=c.outerHeight()-(b.offset().top-c.offset().top)-25;a.siblings(".lyr_options").removeAttr("style");b.css("max-height",c)}var e=b.obj,d=a(e),h=a("#_optChoiceLayer"),f=a(d).attr("data-multi_item_yn");
b=a(d).attr("data-value");var m=a("#_optChoiceLayer").data("goods_info").goods_no,g=h.find("input[name\x3d'event_layer_yn']").val(),l={};l.goods_no=b;l.vir_vend_no=a(d).attr("data-vir_vend_no");var q=a(e).parent(),t=a(this).parent().parent().parent().siblings(".sel_btn");if(!q.hasClass("sld_out")){var r=function(a){a.find(".sel_txt").attr("data-sel-msg")&&!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))};
a("ul#ul_pkgCmpsGoods").children("li:not([id^\x3dli_cmps_goods])").remove();a("#pkgCmpsGoods").attr("data-value",a(d).attr("data-value"));a("#pkgCmpsGoods").attr("data-multi_item_yn",f);a("#pkgCmpsGoods").parent().addClass("selected");a("#pkgCmpsGoods").text(a(e).children(".opt_name").text());a("#pkgCmpsGoods").attr("data-sel-msg",a(e).children(".opt_name").text());a("#pkgCmpsGoods").attr("data-disp_seq",a(d).data("disp_seq"));a("#pkgCmpsGoods").attr("data-vend_nm",a(d).data("vend_nm"));a("#pkgCmpsGoods").attr("data-vir_vend_no",
a(d).data("vir_vend_no"));a(".lyr_select").removeClass("on");q.addClass("selected").siblings("li").removeClass("selected");r(t);""!=b?(l.opt_layer_yn="Y",l.optChoiceLayer_yn="Y",elandmall.optLayerEvt.drawPkgCmpsGoodsSelect({param:l,success:function(b){if("Y"!=f)a("ul#ul_pkgCmpsGoods").append(b),a("[id^\x3dpkgCmpsGoods]").attr("data-disp_seq",a(d).data("disp_seq")),a("[id^\x3dpkgCmpsGoods]").attr("data-vend_nm",a(d).data("vend_nm")),a("[id^\x3dpkgCmpsGoods]").attr("data-goods_no",a(d).attr("data-value")),
a("[id^\x3dpkgCmpsGoods]").attr("data-vir_vend_no",a(d).data("vir_vend_no")),a("[id^\x3dpkgCmpsGoods]").attr("data-multi_item_yn",f),b=a("#pkgCmpsGoodsInfo","#_optChoiceLayer").data("goods_info").goodsData,b[0].disp_seq=a(d).data("disp_seq"),b[0].vend_nm=a(d).data("vend_nm"),0<a("#giftInfo").length?"Y"==a("#giftInfo").data("multi_yn")?elandmall.goodsDetail.checkPkgGoodsChoice(h)?(a("[id^\x3dgift_slt]",h).parents(".lyr_select").removeClass("disabled"),a("#gift_slt",h).data("itemInfo",b),elandmall.goodsDetail.drawAddGoods({type:"PKG",
quickview_yn:"N",data:b})):a("#gift_slt",h).data("itemInfo",b):(a("[id^\x3dpkgCmpsGoods]").attr("data-choice_yn","Y"),elandmall.goodsDetail.checkSetGoodsChoice()&&(l.item_no="00000",elandmall.optLayerEvt.getSetGoodsPrice({param:l,success:function(c){elandmall.goodsDetail.drawAddGoods({type:"PKG",data:c,set_param:l,gift_nm:a("[name\x3dgift_goods_dtl_no]",a("#giftInfo","#detailform")).attr("data-gift_nm"),gift_goods_dtl_no:a("[name\x3dgift_goods_dtl_no]",a("#giftInfo","#detailform")).val(),gift_stock_qty:a("[name\x3dgift_goods_dtl_no]",
a("#giftInfo","#detailform")).data("stock_qty")})}}))):(a("#pkgCmpsGoods").attr("data-choice_yn","Y"),elandmall.goodsDetail.checkPkgGoodsChoice()?(elandmall.goodsDetail.drawAddGoods({type:"PKG",quickview_yn:"N",data:b}),elandmall.goodsDetail.sumMultiTotal()):a("#pkgCmpsGoods").data("itemInfo",b)),a(".sel_btn.option").click(function(){if(!a(this).parent().hasClass("disabled")){if(a(this).parent().hasClass("on"))a(this).parent().removeClass("on");else{var b=a(this).parent().parent().parent().parent(".on_opt_box");
b.hasClass("on_opt_box")&&c(a(this),b);a(".lyr_select").removeClass("on");a(this).parent().addClass("on")}"날짜캘린더"==a(this).children().data("opt_nm")&&"undefined"==typeof l.mobileYn&&elandmall.goodsDetail.fnSelectPkgBtn(a(this),a(e))}}),a(".lyr_options .options li .ancor").click(function(){var c=a(this).parent(),b=a(this).parent().parent().parent().siblings(".sel_btn");c.hasClass("sld_out")||(b.find(".sel_txt").attr("data-sel-msg",a(this).find(".opt_name").text()),a(".lyr_select").removeClass("on"),
c.addClass("selected").siblings("li").removeClass("selected"),r(b))});else{var k=a("#_optChoiceLayer");a("#ul_pkgCmpsGoods").append(b);a("[id^\x3dpkgCmpsGoods]").attr("data-disp_seq",a(d).data("disp_seq"));a("[id^\x3dpkgCmpsGoods]").attr("data-vend_nm",a(d).data("vend_nm"));a("[id^\x3dpkgCmpsGoods]").attr("data-goods_no",a(d).attr("data-value"));a("[id^\x3dpkgCmpsGoods]").attr("data-vir_vend_no",a(d).data("vir_vend_no"));a("[id^\x3dpkgCmpsGoods]").attr("data-multi_item_yn",f);var q=a("#ul_pkgCmpsGoods",
k).find("#item_opt_li_data").data("low_vend_type_cd");elandmall.optLayerEvt.ajaxItemList({param:{goods_no:a(d).attr("data-value"),vir_vend_no:a(d).attr("data-vir_vend_no"),pkg_goods_yn:"Y",pkg_goods_no:m,low_vend_type_cd:q,event_layer_yn:g},success:function(b){var f=k.find("[id^\x3doptions_nm1]"),h=f.parents(".lyr_select").children(".sel_btn");a.each(b,function(){var c=this.ITEM_NO,b=this.OPT_VAL_NM1,e=this.SALE_POSS_QTY,g=this.ITEM_SALE_PRICE,m=this.GOODS_SALE_PRICE;a(d).attr("data-vir_vend_no");
g=0<g?g:m;""!=g&&"0"!=g&&(g+="원");"Y"!=h.children(".sel_txt").attr("data-last")&&(g="");c=0<e?a("\x3cli\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e"+b+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+g+"\x3c/em\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":c}):a("\x3cli class\x3d'sld_out'\x3e\x3cspan class\x3d'ancor'\x3e\x3cspan class\x3d'opt_name'\x3e(품절)"+b+"\x3c/span\x3e\x3cspan class\x3d'opt_info'\x3e\x3cspan class\x3d'opt_price'\x3e\x3cem\x3e"+
g+"\x3c/em\x3e\x3c/span\x3e\x3ca class\x3d'opt_stock' onclick\x3d\"elandmall.stockNotiMbrLayer({goods_no:'"+a(d).attr("data-value")+"',vir_vend_no:'"+a(d).data("vir_vend_no")+"',item_no:'"+c+"',item_nm:'"+b+"'});\"\x3e입고알림신청\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e").attr({"data-value":"soldout"});c.attr("data-item_show_nm",b);f.append(c)});a(".sel_btn.option").click(function(){if(!a(this).parent().hasClass("disabled"))if(a(this).parent().hasClass("on"))a(this).parent().removeClass("on");else{var b=a(this).parent().parent().parent().parent(".on_opt_box");
b.hasClass("on_opt_box")&&c(a(this),b);a(".lyr_select").removeClass("on");a(this).parent().addClass("on")}"날짜캘린더"==a(this).children().data("opt_nm")&&"undefined"==typeof l.mobileYn&&elandmall.goodsDetail.fnSelectPkgBtn(a(this),a(e))});a(".chk_out1").click(function(){a(this).is(":checked")?a(this).parent().siblings("ul").children(".sld_out").hide():a(this).parent().siblings("ul").children(".sld_out").show()});a(".lyr_options .options li .ancor").click(function(){var c=a(this),b=a(this).parents(".options").data("index"),
e=a(this).parent(),f=a(this).parent().parent().parent().siblings(".sel_btn");e.hasClass("sld_out")||(f.find(".sel_txt").attr("data-sel-msg",c.find(".opt_name").text()),f.find(".sel_txt").data("sel-msg",c.find(".opt_name").text()),f.find(".sel_txt").attr("data-value",c.parent().attr("data-value")),a(".lyr_select").removeClass("on"),e.addClass("selected").siblings("li").removeClass("selected"),r(f),elandmall.optLayerEvt.changeItem({param:{goods_no:a(d).attr("data-value"),vir_vend_no:a(d).attr("data-vir_vend_no"),
pkg_goods_yn:"Y",pkg_goods_no:m,low_vend_type_cd:q,event_layer_yn:g},div:k,chgObj:a(this),callback:function(e){e={goods_no:a(d).attr("data-value"),vir_vend_no:a(d).attr("data-vir_vend_no"),pkg_goods_yn:"Y"};e.curr_idx=b;var f=c.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("last"),g=c.parent().attr("data-value");if("Y"==f&&""!=g){if("40"==q||"50"==q)e.vir_vend_no=a(d).attr("data-vir_vend_no");e.item_no=g;elandmall.optLayerEvt.getItemPrice({param:e,success:function(c){a("#pkgCmpsGoods").data("itemInfo",
c)}});0<a("#giftInfo").length?"Y"==a("#giftInfo").data("multi_yn")?a("[id^\x3dgift_slt]").prop("disabled",!1):elandmall.goodsDetail.checkPkgGoodsChoice()&&(e.gift_nm=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo","#detailform")).data("gift_nm"),e.gift_goods_dtl_no=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo","#detailform")).val()):a("#pkgCmpsGoods").data("choice_yn","Y")}}}))})}})}}})):(a("#pkgCmpsGoods").data("choice_yn","N"),a("#pkgCmpsGoods").removeData("itemInfo"))}},drawPkgCmpsGoodsSelect:function(b){a.ajax({url:"/goods/initPkgCmpsGoodsSelect.action",
data:b.param,type:"POST",async:!1,dataType:"html",success:function(c){"function"==a.type(b.success)&&b.success(c)}})},changeBranch:function(b){a("#branchList","#opt_box").change(function(){""!=a(this).val()&&"Y"==a("#multi_item_yn","#opt_box").val()&&elandmall.optLayerEvt.ajaxItemList({param:{goods_no:b.goods_no,vir_vend_no:a(this).val()},success:function(c){a("#item_opt_nm1").val("");a("#item_opt_nm1").change()}})})},drawItemSelect:function(b){var c=b.obj,e="undefined"!=typeof b.type?b.type:"P";
b=a(c);var d=a(b).data("stropt_nm").split(";"),h=a(c).parent().parent().data("cmps_grp_seq"),f="";a(d).each(function(b,g){"M"==e||"ML"==e?(f="ML"==e?f+("\x3cdt\x3e"+g+"\x3c/dt\x3e"):f+('\x3cdt class\x3d"ir"\x3e\x3clabel for\x3d"item_opt_nm'+(b+1)+'"\x3e'+g+"\x3c/label\x3e\x3c/dt\x3e"),f+="\x3cdd\x3e",f=1==b+1?f+"\x3cdiv class\x3d'lyr_select'\x3e":f+"\x3cdiv class\x3d'lyr_select disabled'\x3e",f+='\x3cdiv class\x3d"chk_out"\x3e\x3cinput type\x3d"checkbox" id\x3d"chk_out1" class\x3d"chk_out1"\x3e\x3clabel for\x3d"chk_out1"\x3e품절제외\x3c/label\x3e\x3c/div\x3e',
f+='\x3cbutton type\x3d"button" class\x3d"sel_btn option"\x3e',f=1==b+1?f+('\x3cspan class\x3d"sel_txt" name\x3d"opt1" id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" \x3e'+g+"을 선택해 주세요.\x3c/span\x3e"):f+('\x3cspan class\x3d"sel_txt" name\x3d"opt1" id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" \x3e상위 옵션을 먼저 선택해 주세요.\x3c/span\x3e'),f+="\x3c/button\x3e",
f+='\x3cdiv class\x3d"lyr_options"\x3e',f+='\x3cul class\x3d"options" name\x3d"options_nm'+(b+1)+'" id\x3d"options_nm'+(b+1)+'"  data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" data-ga-select\x3d""\x3e',f+="\x3c/ul\x3e",f+="\x3c/div\x3e",f+="\x3c/div\x3e",f+="\x3c/dd\x3e","ML"==e?(b=a(c).parent().parent().parent().parent(),a("#setGrp"+h,b).append(f)):a("#setGrp"+h).append(f)):(f+='\x3cli class\x3d"l_th02"\x3e',f+='\x3cspan class\x3d"same_th"\x3e'+g+"\x3c/span\x3e",
f=1==b+1?f+"\x3cdiv class\x3d'lyr_select'\x3e":f+"\x3cdiv class\x3d'lyr_select disabled'\x3e",f+="\x3cbutton class\x3d'sel_btn option' type\x3d'button'\x3e",f=1==b+1?f+('\x3cspan class\x3d"sel_txt" title\x3d" '+g+' 선택" id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" data-ga-select\x3d""\x3e'+g+"을 선택해 주세요.\x3c/span\x3e"):f+('\x3cspan class\x3d"sel_txt" title\x3d" '+g+' 선택" id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+
(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" data-ga-select\x3d""\x3e상위 옵션을 먼저 선택해 주세요.\x3c/span\x3e'),f+="\x3c/button\x3e",f+='\x3cdiv class\x3d"lyr_options"\x3e',f+='\x3cdiv class\x3d"chk_out"\x3e',f+='\x3cinput id\x3d"chk_out1" class\x3d"chk_out1" type\x3d"checkbox"\x3e',f+='\x3clabel for\x3d"chk_out1"\x3e품절제외\x3c/label\x3e',f+="\x3c/div\x3e",f+='\x3cul class\x3d"options" name\x3d"options_nm'+(b+1)+'" id\x3d"options_nm'+(b+1)+'"  data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+
(d.length==b+1?"Y":"N")+'" data-ga-select\x3d""\x3e',f+="\x3c/ul\x3e",f+="\x3c/div\x3e",f+="\x3c/div\x3e",f+="\x3c/li\x3e",a("#setGrp"+h+" \x3e ul").append(f),0<a("div#gd_float_opt_fix").length&&(g=a.parseHTML(f),a("#item_opt_nm"+(b+1),g).attr({id:"item_opt_nm"+(b+1)+"L","data-layer_yn":"Y"}),a("#options_nm"+(b+1),g).attr({id:"options_nm"+(b+1)+"L","data-layer_yn":"Y"}),a("#setGrp"+h+"L \x3e ul").append(g)));f=""});b=b.parents(".opt_box");b.find(".chk_out1").click(function(){a(this).is(":checked")?
"M"==e||"ML"==e?a(this).parent().siblings(".lyr_options").children("ul").children(".sld_out").hide():a(this).parent().siblings("ul").children(".sld_out").hide():"M"==e||"ML"==e?a(this).parent().siblings(".lyr_options").children("ul").children(".sld_out").show():a(this).parent().siblings("ul").children(".sld_out").show();lyrMax();OrderScorller()});b.find(".sel_btn.option").click(function(){if(!a(this).parent().hasClass("disabled")){var b=a(this).parent(".lyr_select");if(a(this).parent().hasClass("on")){if(a(this).parent().removeClass("on"),
"M"==e||"ML"==e)toggleBt("show",a(this)),tglBt(a(this),"show")}else if(a(this).parent().addClass("on"),"M"==e||"ML"==e)toggleBt("hide",a(this)),lyrMax(a(this),b),tglBt(a(this),"hide");if("M"==e||"ML"==e)scrollReest(a(this)),showText(a(this));if("P"==e){if(0<a(this).parent().parent().parent().parent(".on_opt_box").length)b=a(this).parent().parent().parent().parent(".on_opt_box");else if(b=a(this).parent().parent().parent().parent().parent(".on_opt_box"),a(this).parent().hasClass("on")&&(b.hasClass("on_opt_box")&&
commonUI.view.lyrSlt.prototype.lyrMax(a(this),b),a(".lyr_select").removeClass("on"),a(this).parent().addClass("on"),a(this).parent().hasClass("hasDefault")&&0<a(this).parent(".hasDefault").find(".dVal").length&&!a(this).hasClass("selected"))){var c=a(this).parent().parent();commonUI.view.lyrSlt.prototype.goToDft(c)}0<b.length&&commonUI.view.lyrSlt.prototype.lyrMax(a(this),b)}}});if("M"==e||"ML"==e)b.find(".lyr_options .options li .ancor").click(function(){var b=a(this).parent(),c=a(this).parent().parent().parent().siblings(".sel_btn");
b.hasClass("sld_out")||(c.find(".sel_txt").attr("data-sel-msg",a(this).find(".opt_name").text()),c.find(".sel_txt").data("sel-msg",a(this).find(".opt_name").text()),a(".lyr_select").removeClass("on"),b.addClass("selected").siblings("li").removeClass("selected"),showText(c),tglAc(a(this),"show"),toggleBt("show"),scrollReest(c))}),a(window).resize(function(){"block"==a(".goods_opt").css("display")?(lyrMax(),OrderScorller()):"none"==a(".goods_opt").css("display")&&(a(".goods_opt").css({display:"block",
visibility:"hidden"}),lyrMax(),OrderScorller(),a(".goods_opt").removeAttr("style"))})},drawItemSelectOrigin:function(b){var c=b.obj,e="undefined"!=typeof b.type?b.type:"P";b=a(c).children("option:selected");var d=a(b).data("stropt_nm").split(";"),h=a(c).data("cmps_grp_seq"),f="";a(d).each(function(b,g){if("M"==e||"ML"==e){var l="";"ML"==e?(f+="\x3cdt\x3e"+g+"\x3c/dt\x3e",l='class\x3d"w100"'):f+='\x3cdt class\x3d"ir"\x3e\x3clabel for\x3d"item_opt_nm'+(b+1)+'"\x3e'+g+"\x3c/label\x3e\x3c/dt\x3e";f+=
"\x3cdd\x3e";f+="\x3cselect "+l+' id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'"'+(1<b+1?' disabled\x3d"disabled"':"")+"\x3e";f=1==b+1?f+('\x3coption value\x3d"" selected\x3d"selected"\x3e'+g+" 옵션을 선택해 주세요.\x3c/option\x3e"):f+'\x3coption value\x3d"" selected\x3d"selected"\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e';f+="\x3c/select\x3e";f+="\x3c/dd\x3e";"ML"==e?(b=a(c).parent().parent().parent().parent(),a("#setGrp"+h,b).append(f)):
a("#setGrp"+h).append(f)}else f+='\x3cli class\x3d"l_th02"\x3e',f+='\x3cspan class\x3d"same_th"\x3e'+g+"\x3c/span\x3e",f+='\x3cselect class\x3d"wide" title\x3d" '+g+' 선택" id\x3d"item_opt_nm'+(b+1)+'" data-opt_nm\x3d"'+g+'" data-index\x3d"'+(b+1)+'" data-last\x3d"'+(d.length==b+1?"Y":"N")+'" data-ga-select\x3d""'+(1<b+1?' disabled\x3d"disabled"':"")+"\x3e",f=1==b+1?f+('\x3coption value\x3d"" selected\x3d"selected"\x3e'+g+" 옵션을 선택해 주세요.\x3c/option\x3e"):f+'\x3coption value\x3d"" selected\x3d"selected"\x3e상위 옵션을 먼저 선택해 주세요.\x3c/option\x3e',
f+="\x3c/select\x3e",f+="\x3c/li\x3e",a("#setGrp"+h+" \x3e ul").append(f),0<a("div#gd_float_opt_fix").length&&(g=a.parseHTML(f),a("#item_opt_nm"+(b+1),g).attr({id:"item_opt_nm"+(b+1)+"L","data-layer_yn":"Y"}),a("#setGrp"+h+"L \x3e ul").append(g));f=""})},addSetGoodsParam:function(b){var c={seq_no:[],upr_seq_no:[],set_goods_no:[],goods_no:[],vir_vend_no:[],item_no:[],ord_cnt:[],cmps_grp_seq:[],set_cmps_item_no:[]};b="undefined"!=typeof b&&""!=b.id?b.id:"detailform";var e=a("#"+b).data("seq_no")?+a("#"+
b).data("seq_no"):0,d=e+=1,h=a("#goods_no").val(),f="",m="",g="";"object"==typeof a("#"+b).data("goods_info")?(h=a("#"+b).data("goods_info").goods_no,f=a("#"+b).data("goods_info").vir_vend_no,m=a("#"+b).data("goods_info").item_no,g=a("#"+b).data("goods_info").ord_qty):(h=a("#goods_no").val(),f=a("#vir_vend_no").val(),m=a("#item_no").val(),g=a("#min_qty").val());c.seq_no.push(e);c.upr_seq_no.push(d);c.set_goods_no.push(h);c.goods_no.push(h);c.vir_vend_no.push(f);c.item_no.push(m);c.ord_cnt.push(g);
c.set_cmps_item_no.push("");c.cmps_grp_seq.push("");a("[id^\x3dcmps_goods_grp]","#"+b).each(function(b){e++;c.seq_no.push(e);c.upr_seq_no.push(d);c.set_goods_no.push(h);c.ord_cnt.push(a(this).attr("data-cmps_qty"));c.cmps_grp_seq.push(a(this).attr("data-cmps_grp_seq"));"object"==typeof a(this).data("cmps_info")?(c.goods_no.push(a(this).data("cmps_info").goods_no),c.vir_vend_no.push(a(this).data("cmps_info").vir_vend_no),c.item_no.push(a(this).data("cmps_info").item_no),c.set_cmps_item_no.push(a(this).data("cmps_info").set_cmps_item_no)):
(c.goods_no.push(a(this).attr("data-goods_no")),c.vir_vend_no.push(a(this).attr("data-vir_vend_no")),c.item_no.push(a(this).attr("data-item_no")),c.set_cmps_item_no.push(a(this).attr("data-set_cmps_item_no")))});a("#"+b).data("seq_no",e);return c},validcheck:function(b){var c=null,c="undefined"!=typeof b&&"undefined"!=typeof b.obj?a("#_optChoiceLayer",b.obj):a("#_optChoiceLayer"),e=!0;a("#branchList",c).each(function(){if(""==a(this).val())return e=!1,alert("지점을 선택해 주세요."),!1});e&&a("[id^\x3ditem_opt_nm]",
c).each(function(){if(""==a(this).attr("data-value")||"soldout"==a(this).attr("data-value")||void 0==a(this).attr("data-value"))if(""==a(this).attr("data-sel-msg")||void 0==a(this).attr("data-sel-msg"))return e=!1,alert("상품의 옵션을 선택해 주세요."),!1});e&&a("[id^\x3dcmps_goods_grp]",c).each(function(){if(""==a(this).attr("data-goods_no")||""==a(this).attr("data-item_no")||void 0==a(this).attr("data-goods_no")||void 0==a(this).attr("data-item_no"))return e=!1,alert("구성품을 모두 선택해 주세요."),!1});if(e){a("[name^\x3dgift_dtl_no]",
c).each(function(){if(""==a(this).attr("data-value")||void 0==a(this).attr("data-value"))return e=!1,alert("사은품을 모두 선택해 주세요."),!1});if(0<a("#gift_slt",c).length&&(""==a("#gift_slt",c).attr("data-value")||void 0==a("#gift_slt",c).attr("data-value")))return e=!1,alert("사은품을 모두 선택해 주세요."),!1;b=0;var d=+a(":input[name\x3d'ord_qty']",c).eq(0).val();b=0<a("#gift_slt",a("#giftInfo",c)).length?+a("#gift_slt",a("#giftInfo",c)).children("option:selected").data("stock_qty"):a(":input[name\x3d'gift_goods_dtl_no']",
a("#giftInfo",c)).data("stock_qty");if(0<b&&b<d)return alert("준비되어 있는 사은품 수량은 "+b+"개 입니다.\n상품은 최대 "+b+"개까지 주문 가능합니다.\n상품은 최대 "+b+"개까지 주문 가능합니다."),!1}e&&a("select#recv_choice",c).each(function(){if(""==a(this).val())return e=!1,alert("수령방법을 선택해 주세요."),!1});e&&(c=a(c).data("goods_info"),"20"==String(c.goods_cmps_divi_cd)&&(c=elandmall.optLayerEvt.addSetGoodsParam({id:"_optChoiceLayer"}),elandmall.optLayerEvt.getSetGoodsPrice({param:c,async:!1,success:function(a){a=a[0];if("0000"!=a.RET_CODE)return"-0002"==
a.RET_CODE||"-0005"==a.RET_CODE||"-0041"==a.RET_CODE?alert("상품이 품절 되었습니다."):"-0003"==a.RET_CODE?alert("상품이 판매가능한 기간이 아닙니다."):alert("상품이 판매가 종료되었습니다."),e=!1}})));return e},setSaveParam:function(b){var c=b.goods_info,e=null,d=a.extend({goods_no:"",vir_vend_no:"",item_no:""},c),e="undefined"!=typeof b.obj?a("#_optChoiceLayer",b.obj):a("#_optChoiceLayer");"20"==d.goods_cmps_divi_cd?(d.set_items=[],a("[id^\x3dcmps_goods_grp]",e).each(function(b){b=a(this).data("cmps_info");d.set_items.push(b)})):"80"==
d.goods_type_cd?(b=a("#pkgCmpsGoods",e),b=a(b).attr("data-multi_item_yn"),d.set_goods_no=c.goods_no,c=null,c="Y"!=b?a("#pkgCmpsGoodsInfo",e).data("goods_info").goodsData:a("#pkgCmpsGoods",e).data("itemInfo"),e=c[0].ORD_POSS_MIN_QTY,b=c[0].SALE_UNIT_QTY,1<b&&(1>=e?e=b:1<e&&0<e%+b&&(e=Math.ceil(e/b)*b)),d.goods_no=c[0].GOODS_NO,d.item_no=c[0].ITEM_NO,d.vir_vend_no=c[0].VIR_VEND_NO,d.ord_qty=e,d.sale_price=c[0].CUST_SALE_PRICE):"Y"==d.multi_item_yn&&(d.item_no=a("#item_opt_nm1",e).attr("data-value"),
d.ord_qty="1");return d},setCallbackParam:function(b){var c=null,c="undefined"!=typeof b&&"undefined"!=typeof b.obj?a("#_optChoiceLayer",b.obj):a("#_optChoiceLayer");b=a(c).data("goods_info");var e={};if("20"==String(b.goods_cmps_divi_cd)){e.goods_no=String(b.goods_no);e.item_no=String(b.item_no);e.cart_grp_cd=String(b.cart_grp_cd);0<a("#branchList",c).length?e.vir_vend_no=a("#branchList",c).val():e.vir_vend_no=String(b.vir_vend_no);e.set_item=[];a("[id^\x3dcmps_goods_grp]",c).each(function(b){b=
a(this).data("cmps_info");var c=String(b.goods_no),d=String(b.vir_vend_no),g=String(b.item_no),h=String(b.set_cmps_item_no),q=String(a(this).data("cmps_grp_seq"));e.set_item.push({cmps_grp_seq:q,goods_no:c,vir_vend_no:d,item_no:g,set_cmps_item_no:h,sale_poss_qty:String(b.sale_poss_qty)})});var d="";0<a("#giftInfo",c).length&&("Y"==a("#giftInfo",c).data("multi_yn")?d=a("#gift_slt",c).attr("data-value"):a("select[name\x3dgift_dtl_no]",a("#_optChoiceLayer",c)).each(function(){d=""==d?d+a(this).val():
d+(","+a(this).val())}))}else e.goods_no=String(b.goods_no),0<a("#branchList",c).length?e.vir_vend_no=a("#branchList",c).val():e.vir_vend_no=String(b.vir_vend_no),"Y"==b.multi_item_yn?(e.item_no=a(c).attr("data-item_no"),e.item_nm=a(c).attr("data-item_nm"),e.sale_poss_qty=a(c).attr("data-sale_poss_qty")):e.item_no=String(b.item_no),e.cart_grp_cd=String(b.cart_grp_cd),d="",0<a("#giftInfo",c).length&&("Y"==a("#giftInfo",c).data("multi_yn")?d=a("#gift_slt",c).val():a("select[name\x3dgift_dtl_no]",c).each(function(){d=
""==d?d+a(this).val():d+(","+a(this).val())}));e.gift_goods_info=d;0<a("#ord_qty",c).length&&(e.ord_qty=a("#ord_qty",c).val());return e},drawColorChipHtml:function(b){var c="",e=b.curr_opt_idx;b=b.data;var d=a("#_optChoiceLayer");a.each(b,function(a,b){a=b.ITEM_NO;var d=b["OPT_VAL_NM"+e],f=b.IMG_PATH,h=b.IMG_SEQ,q="chip";0==b.SALE_POSS_QTY&&(q+=" disabled");"undefined"!=typeof f&&""!=f&&(c+="\x3cli\x3e",c+='\t\x3ca href\x3d"javascript:void(0);" class\x3d"'+q+'" data-item_no\x3d"'+a+'" data-img_seq\x3d"'+
h+'"\x3e',c+='\t\t\x3cspan class\x3d"ir"\x3e'+d+"\x3c/span\x3e",c+=' \t\t\x3cimg src\x3d"'+elandmall.global.upload_image_path+f+'"alt\x3d"'+d+'" onerror\x3d"this.src\x3d\''+elandmall.global.image_path+"/images/pcweb/common/web_nocolorchip.gif'\" /\x3e",c+=" \t\x3c/a\x3e",c+="\x3c/li\x3e")});a(".colorChipList",d).html(c);a(".colorChipList",d).find("a").click(function(){var b=a(this).data("item_no");a(this).hasClass("disabled")||(a("#item_opt_nm"+e,d).val(b),a("#item_opt_nm"+e,d).change())})},fnSelectLayerItem:function(b){function c(a){a.find(".sel_txt").attr("data-sel-msg")&&
!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}b=a.extend({goods_no:z,item_no:"",vir_vend_no:B,low_vend_type_cd:C,quickview_yn:""},b||{});var e=b.quickview_yn,d=null,d=a("#_optChoiceLayer");1<a("#_optChoiceLayer").length&&(d=a(b.obj).parents("#_optChoiceLayer"));var h=d.find("input[name\x3d'event_layer_yn']").val(),f=a(b.obj),m=a(b.obj).parents(".options").data("index"),
g=a(b.obj).parent("li"),l=a(b.obj).parent().parent().parent().siblings(".sel_btn");g.hasClass("sld_out")||(l.find(".sel_txt").attr("data-sel-msg",a(b.obj).find(".opt_name").text()),l.find(".sel_txt").data("sel-msg",a(b.obj).find(".opt_name").text()),l.find(".sel_txt").attr("data-value",g.attr("data-value")),a("#item_opt_nm1").attr("data-value",g.attr("data-value")),d.attr("data-item_no",g.attr("data-value")),d.attr("data-item_nm",a(b.obj).find(".opt_name").text()),d.data("goods_info").item_no=g.attr("data-value"),
d.attr("data-sale_poss_qty",g.attr("data-sale_poss_qty")),a(".lyr_select").removeClass("on"),g.addClass("selected").siblings("li").removeClass("selected"),c(l));"10"==a("#reserv_limit_divi_cd").val()||"20"==a("#reserv_limit_divi_cd").val()?b.reserv_yn="Y":b.reserv_yn="N";elandmall.optLayerEvt.changeItem({param:{goods_no:b.goods_no,item_no:b.item_no,vir_vend_no:b.vir_vend_no,low_vend_type_cd:b.low_vend_type_cd,reserv_yn:b.reserv_yn,event_layer_yn:h},color_chip_val:void 0,color_chip_yn:"Y",div:d,chgObj:a(b.obj),
callback_ajax:function(a){void 0==a.next_idx&&elandmall.goodsDetail.drawColorChipHtml({data:a.data,curr_opt_idx:a.next_idx,quickview_yn:e});void 0==a.next_idx&&elandmall.goodsDetail.drawSizeChipHtml({data:a.data,curr_opt_idx:a.next_idx,quickview_yn:e})},callback:function(b){b=f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("last");var c=f.parent().attr("data-value"),g={goods_no:a("#detailform",d).data("goods_no"),vir_vend_no:a("#detailform",d).data("vir_vend_no")};g.curr_idx=
m;"Y"==b&&""!=c?("40"==a("#low_vend_type_cd",a("#detailform",d)).val()&&(g.vir_vend_no=f.parents("li").data("vir_vend_no")),g.item_no=c,0<a("#giftInfo",d).length?"Y"==a("#giftInfo",d).data("multi_yn")?(a("[id^\x3dgift_slt]",d).parents(".lyr_select").removeClass("disabled"),a("#gift_slt",d).data("itemInfo",g)):(g.gift_nm=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo",a("#detailform",d))).data("gift_nm"),g.gift_stock_qty=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo",a("#detailform",d))).data("stock_qty"),
g.gift_goods_dtl_no=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo",a("#detailform",d))).attr("data-value"),0==a("#_optChoiceLayer").length&&elandmall.optLayerEvt.getItemPrice({param:g,success:function(b){elandmall.goodsDetail.drawAddGoods({data:b,quickview_yn:e,gift_nm:a("[name\x3dgift_goods_dtl_no]",a("#giftInfo",a("#detailform",d))).data("gift_nm"),gift_goods_dtl_no:a("[name\x3dgift_goods_dtl_no]",a("#giftInfo",a("#detailform",d))).attr("data-value"),gift_stock_qty:a("[name\x3dgift_goods_dtl_no]",
a("#giftInfo",a("#detailform",d))).data("stock_qty")})}})):0==a("#_optChoiceLayer").length?elandmall.optLayerEvt.getItemPrice({param:g,success:function(a){elandmall.goodsDetail.drawAddGoods({data:a,quickview_yn:e})}}):(f.parents("#_optChoiceLayer").data("goods_info").vir_vend_no=f.parent().attr("data-vir_vend_no"),f.parents("#_optChoiceLayer").data("goods_info").item_no=f.parent().attr("data-value"))):"Y"==b&&""==c?(a("[id^\x3dgift_slt]",d).attr("data-value",""),a("[id^\x3dgift_slt]",d).text("사은품을 선택해주세요."),
a("[id^\x3dgift_slt]",d).data("sel-msg",""),a("[id^\x3dgift_slt]",d).parent().removeClass("selected"),a("[id^\x3dgift_slt]",d).parents(".lyr_select").addClass("disabled"),a("#gift_slt",d).attr("data-itemInfo","")):"Y"!=b&&(a("[id^\x3dgift_slt]",d).attr("data-value",""),a("[id^\x3dgift_slt]",d).text("사은품을 선택해주세요."),a("[id^\x3dgift_slt]",d).data("sel-msg",""),a("[id^\x3dgift_slt]",d).parent().removeClass("selected"),a("[id^\x3dgift_slt]",d).parents(".lyr_select").addClass("disabled"),a("#gift_slt",
d).attr("data-itemInfo",""))}})},fnSelectLayerSetItem:function(b){b=b.obj;var c=a(b).parents(".opt_box").data("cmps_grp_seq"),e=a("[id^\x3dsetGrp"+c+"]"),d=a("#cmps_goods_grp"+c).attr("data-goods_no"),h=a("#cmps_goods_grp"+c).attr("data-vir_vend_no"),f=a(b);f.parent().parent(".options").data("index");b=f.parent();var m=f.parent().parent().parent().siblings(".sel_btn");b.hasClass("sld_out")||(m.find(".sel_txt").attr("data-sel-msg",f.find(".opt_name").text()),m.find(".sel_txt").data("sel-msg",f.find(".opt_name").text()),
m.find(".sel_txt").attr("data-value",f.parent().attr("data-value")),a("#cmps_goods_grp"+c).attr("data-item_no",f.parent().attr("data-value")),a("#cmps_goods_grp"+c).attr("data-set_cmps_item_no",f.parent().attr("data-set_cmps_item_no")),a(".lyr_select").removeClass("on"),b.addClass("selected").siblings("li").removeClass("selected"),function(a){a.find(".sel_txt").attr("data-sel-msg")&&!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}(m),
"undefined"!=a.type(elandmall.global.app_cd)&&(tglAc(f,"show"),scrollReest(m)),elandmall.optLayerEvt.changeItem({param:{goods_no:d,vir_vend_no:h,set_goods_yn:"Y",set_goods_no:z,cmps_grp_seq:c},div:e,chgObj:f,callback_ajax:function(b){var d=e.find("#options_nm"+b.next_idx),f=a("#setGrp"+c).data("init_yn"),g=a("#_optChoiceLayer").data("pre_item_info");if("undefined"!=typeof g&&"Y"!=f){var h="",k=g[c].item_nm.split("/");a.each(a(d).children(),function(c,d){k[+b.next_idx-1]==a(this).data("item_show_nm")&&
(h=a(this).val())});d.val(h);d.change();"Y"==a(d).data("last")&&a("#setGrp"+c).data("init_yn","Y")}},callback:function(b){b=f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("last");var e=f.parent().attr("data-value"),g=f.parent().attr("data-sale_poss_qty");"Y"==b&&""!=e&&(""!=e?a("#cmps_goods_grp"+c).attr("data-choice_yn","Y"):a("#cmps_goods_grp"+c).attr("data-choice_yn","N"),void 0==d&&(d=f.parents().find("#_optChoiceLayer").data("goods_info").goods_no,h=f.parents().find("#_optChoiceLayer").data("goods_info").vir_vend_no),
a("#cmps_goods_grp"+c).data("cmps_info",{cmps_grp_seq:c,goods_no:d,vir_vend_no:h,item_no:e,set_cmps_item_no:""+f.parent().attr("data-set_cmps_item_no"),sale_poss_qty:g}),a("#giftInfo"))}}));_google_analytics()},fnSelectLayerPkgItem:function(b){function c(a){a.find(".sel_txt").attr("data-sel-msg")&&!a.parent().hasClass("on")?a.addClass("selected").find(".sel_txt").html(a.find(".sel_txt").attr("data-sel-msg")):a.find(".sel_txt").html(a.find(".sel_txt").attr("data-org-msg"))}b=b.obj;var e=a("#pkgCmpsGoods").attr("data-goods_no"),
d=a("#pkgCmpsGoods").attr("data-vir_vend_no"),h=a("#_optChoiceLayer");1<a("#_optChoiceLayer").length&&(h=a(p.obj).parents("#_optChoiceLayer"));var f=a(b),m=f.parent().parent(".options").data("index"),g=f.parent(),l=f.parent().parent().parent().siblings(".sel_btn"),q=a("#_optChoiceLayer").data("goods_info").goods_no,t=a("#_optChoiceLayer").data("goods_info").low_vend_type_cd;g.hasClass("sld_out")||(l.find(".sel_txt").attr("data-sel-msg",f.find(".opt_name").text()),l.find(".sel_txt").data("sel-msg",
f.find(".opt_name").text()),l.find(".sel_txt").attr("data-value",f.parent().attr("data-value")),a(".lyr_select").removeClass("on"),g.addClass("selected").siblings("li").removeClass("selected"),"undefined"!=a.type(elandmall.global.app_cd)&&tglAc(f,"show"),c(l),elandmall.optLayerEvt.changeItem({param:{goods_no:e,vir_vend_no:d,pkg_goods_yn:"Y",pkg_goods_no:q,low_vend_type_cd:t},div:h,chgObj:a(b),callback:function(b){b={goods_no:e,vir_vend_no:d};b.curr_idx=m;var c=f.parents(".lyr_select").children(".sel_btn").children(".sel_txt").data("last"),
g=f.parent().attr("data-value");if("Y"==c&&""!=g){if("40"==t||"50"==t)b.vir_vend_no=f.parents("li").data("vir_vend_no");b.item_no=g;elandmall.optLayerEvt.getItemPrice({param:b,success:function(b){a("#pkgCmpsGoods").data("itemInfo",b)}});0<a("#giftInfo").length?"Y"==a("#giftInfo").data("multi_yn")?a("[id^\x3dgift_slt]").prop("disabled",!1):elandmall.goodsDetail.checkPkgGoodsChoice()&&(b.gift_nm=a("[name\x3dgift_goods_dtl_no]",a("#giftInfo","#detailform")).data("gift_nm"),b.gift_goods_dtl_no=a("[name\x3dgift_goods_dtl_no]",
a("#giftInfo","#detailform")).val()):a("#pkgCmpsGoods").attr("data-choice_yn","Y")}else"Y"==c&&""==g?0<a("#gift_slt",h).length?(a("[id^\x3dgift_slt]",h).attr("data-value",""),a("[id^\x3dgift_slt]",h).text("사은품을 선택해주세요."),a("[id^\x3dgift_slt]",h).data("sel-msg",""),a("[id^\x3dgift_slt]",h).parent().removeClass("selected"),a("[id^\x3dgift_slt]",h).parents(".lyr_select").addClass("disabled"),a("#gift_slt",h).attr("data-itemInfo","")):a("#pkgCmpsGoods",h).data("choice_yn","N"):"Y"!=c&&(a("[id^\x3dgift_slt]",
h).attr("data-value",""),a("[id^\x3dgift_slt]",h).text("사은품을 선택해주세요."),a("[id^\x3dgift_slt]",h).data("sel-msg",""),a("[id^\x3dgift_slt]",h).parent().removeClass("selected"),a("[id^\x3dgift_slt]",h).parents(".lyr_select").addClass("disabled"),a("#gift_slt",h).attr("data-itemInfo",""))}}));_google_analytics()},lpad:function(a,c,e){var b="";"string"!=typeof a&&(a+="");c-=a.length;for(var h=0;h<c;++h)b+=e;return b+a}};elandmall.eventGoods={goodsPreviewLayer:function(b){b=a.extend({event_key:"",event_start_date:"",
event_end_date:"",smsg:"",emsg:"",quickview_yn:"Y",event_layer_yn:"Y",checkLogin:!1,precheck:!0},b);var c=a.extend({goods_no:""},b);c.goods_no=b.base_goods_no;elandmall.goodsSkipDetail.isEventTimeCheck(c)&&elandmall.goodsSkipDetail.isAvailStockCheck(c)&&("10"==elandmall.global.chnl_cd?elandmall.goodDetailPreviewLayer.openLayer(b):("undefined"!=a.type(b.base_goods_no)&&(b.goods_no=b.base_goods_no),elandmall.goods.goDetail(b)))}}})(jQuery);